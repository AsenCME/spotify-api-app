(this.webpackJsonpspotify=this.webpackJsonpspotify||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=e.text,n=e.onClick,i=e.renderIcon;return Object(r.jsxs)("div",{style:{display:"flex",alignItems:"baseline",marginBottom:16},children:[Object(r.jsx)("div",{style:{flex:1}}),Object(r.jsxs)("div",{style:{display:"flex",cursor:"pointer",alignItems:"center",padding:"8px 16px",borderRadius:"100vw",backgroundColor:"var(--color-8)",color:"var(--color-1)"},onClick:n,children:[Object(r.jsx)("span",{style:{fontWeight:"bold",marginBottom:2,marginRight:8},children:t}),!!i&&i()]})]})}},13:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(4);var r=n(14),i=n(3);function c(e){var t=e.track,n=e.no,c=e.renderButton,s=void 0===c?function(){return Object(i.jsx)("div",{})}:c;return Object(i.jsxs)("div",{style:{backgroundColor:"var(--color-2)",padding:16,borderRadius:8,display:"flex",alignItems:"center",marginBottom:16,position:"relative",overflow:"hidden"},children:[Object(i.jsx)("div",{style:{height:4,position:"absolute",bottom:0,left:0,right:0,width:t.popularity+"%",backgroundColor:"var(--color-6)"}}),Object(i.jsxs)("div",{style:{width:50,fontSize:20,display:"flex",marginRight:16,fontWeight:"bold",justifyContent:"center"},children:[n,"."]}),Object(i.jsxs)("div",{style:{flex:1,display:"flex",alignItems:"center"},children:[Object(i.jsx)("a",{href:t.album.external_urls.spotify,children:Object(i.jsx)("img",{width:"100px",height:"100px",src:t.album.images[0].url,style:{marginRight:16}})}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{style:{display:"flex",alignItems:"baseline",flexWrap:"wrap",marginBottom:4},children:[Object(i.jsx)("h2",{style:{margin:0,padding:0,marginRight:8},children:t.name}),Object(i.jsx)("div",{children:t.artists.map((function(e,r){return Object(i.jsxs)("span",{children:[Object(i.jsx)("a",{href:e.external_urls.spotify,children:e.name}),Object(i.jsx)("span",{style:{marginRight:4},children:r!==t.artists.length-1?",":""})]},"artist_".concat(r,"_track_").concat(n))}))})]}),Object(i.jsxs)("a",{href:t.album.external_urls.spotify,style:{fontWeight:"bold"},children:[t.album.name," (",Object(r.a)(t.album.release_date),")"]}),Object(i.jsx)("div",{style:{marginTop:4},children:Object(r.b)(t.duration_ms)})]})]}),s()]})}},14:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return c}));var r=function(e){var t=Math.floor(e/1e3/60%60).toString().padStart(2,"0"),n=Math.floor(e/1e3%60).toString().padStart(2,"0");return"".concat(t,":").concat(n)},i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=function(e){var t=e.split("-"),n=t[0],r=i[Number(t[1])-1];return"".concat(r," ").concat(n)}},1418:function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),c=n(42),s=n.n(c),a=(n(56),n(57),n(7)),o=n.n(a),l=n(10),d=n(5),j=n(43),u=n.n(j),b=n(44),h=n(3);function x(e){var t=e.me,n=e.page,r=e.changePage,i=function(e,t){return Object(h.jsx)("div",{style:{marginRight:16,cursor:"pointer"},onClick:function(){return r(t)},children:Object(h.jsx)("span",{style:{fontWeight:n===t?"bold":"normal",fontSize:20},children:e})})};return Object(h.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:16,paddingTop:16,paddingBottom:16},children:[i("Top tracks","top_tracks"),i("Custom playlist","custom_playlist"),Object(h.jsx)("div",{style:{flex:1}}),Object(h.jsxs)("div",{style:{padding:"8px 16px",display:"flex",alignItems:"center",borderRadius:"100vw",justifyContent:"center",backgroundColor:"var(--color-2)"},children:[Object(h.jsx)("img",{width:"32px",height:"32px",src:t.image,style:{borderRadius:16}}),Object(h.jsxs)("div",{style:{marginLeft:16,fontSize:14},children:[Object(h.jsx)("div",{style:{fontWeight:"bold"},children:t.name}),Object(h.jsxs)("div",{children:[t.followers," followers"]})]})]})]})}var g=n(49),f=n(51),p=n.n(f),m="https://e6decdacebe8.ngrok.io";var O=new u.a({clientId:"8b945ef10ea24755b83ac50cede405a0",clientSecret:"524fc97a2763460598a3420b7253ee81",redirectUri:"https://spotify-coolness.surge.sh/"});function y(e){var t=function(e){var t=Object(r.useState)(""),n=Object(d.a)(t,2),i=n[0],c=n[1],s=Object(r.useState)(""),a=Object(d.a)(s,2),o=a[0],l=a[1],j=Object(r.useState)(60),u=Object(d.a)(j,2),b=u[0],h=u[1];return Object(r.useEffect)((function(){p.a.post(m+"/login",{code:e}).then((function(e){c(e.data.accessToken),l(e.data.refreshToken),h(e.data.expiresIn),window.history.pushState({},null,"/")})).catch((function(){window.location="/"}))}),[e]),Object(r.useEffect)((function(){if(o&&b){var e=setInterval((function(){fetch(m+"/refresh",{method:"POST",body:JSON.stringify({refreshToken:o}),headers:{ContentType:"application/json"}}).then((function(e){c(e.data.accessToken),h(e.data.expiresIn)})).catch((function(){}))}),1e3*(b-60));return function(){return clearInterval(e)}}}),[o,b]),{accessToken:i,refreshToken:o}}(e.code),n=t.accessToken,i=t.refreshToken,c=Object(r.useState)(null),s=Object(d.a)(c,2),a=s[0],j=s[1],u=Object(r.useState)("top_tracks"),f=Object(d.a)(u,2),y=f[0],v=f[1];return Object(r.useEffect)((function(){n&&(O.setAccessToken(n),O.setRefreshToken(i),Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getMe();case 2:r=e.sent,j({id:r.body.id,name:r.body.display_name||"no name",image:(null===(t=r.body.images)||void 0===t?void 0:t.length)?r.body.images[0].url:"",followers:(null===(n=r.body.followers)||void 0===n?void 0:n.total)||0});case 4:case"end":return e.stop()}}),e)})))())}),[n]),O.getAccessToken()?Object(h.jsxs)("div",{style:{maxWidth:960,margin:"0 auto"},children:[a?Object(h.jsx)(x,{me:a,page:y,changePage:function(e){return v(e)}}):null,"top_tracks"===y?Object(h.jsx)(g.a,{api:O}):"custom_playlist"===y?Object(h.jsx)(b.a,{api:O}):null]}):null}var v=n.p+"static/media/logo.7000afed.png",w=["streaming","user-top-read","user-read-email","user-read-private","user-library-read","user-library-modify","user-read-playback-state","user-modify-playback-state","user-read-recently-played","playlist-modify-public","playlist-modify-private","playlist-read-private","user-library-modify"].join("%20"),k="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("6c68970138484af086dba84c7c147503","&response_type=code&redirect_uri=").concat("https://spotify-coolness.surge.sh/","&scope=").concat(w);function C(){return Object(h.jsx)("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(h.jsxs)("div",{style:{padding:16,borderRadius:4,cursor:"pointer",backgroundColor:"var(--color-2)",display:"flex",alignItems:"center"},onClick:function(){window.location.assign(k)},children:[Object(h.jsx)("span",{style:{marginRight:16,fontWeight:"bold"},children:"Login with Spotify"}),Object(h.jsx)("img",{src:v,width:"36px",height:"36px"})]})})}var S=function(){var e=new URLSearchParams(window.location.search).get("code");return e?Object(h.jsx)(y,{code:e}):Object(h.jsx)(C,{})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1419)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),c(e),s(e)}))};s.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root")),_(console.log)},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(4);var r=n(8),i=n(3),c=function(e){var t=e.onClose,n=e.children;return Object(i.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:100,width:"calc(100vw - 32px)",height:"calc(100vh - 32px)",backgroundColor:"rgba(0,0,0,0.8)",padding:16,overflowY:"auto"},children:Object(i.jsxs)("div",{style:{maxWidth:960,margin:"0 auto",display:"flex",flexDirection:"column",height:"100%"},children:[Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("div",{style:{flex:1}}),Object(i.jsx)(r.CloseSharp,{color:"white",width:"48px",height:"48px",style:{cursor:"pointer"},onClick:t})]}),Object(i.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",paddingBottom:64},children:n})]})})}},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=e.text,n=e.selected,i=e.onClick;return Object(r.jsx)("div",{style:{marginRight:16,cursor:"pointer"},onClick:i,children:Object(r.jsx)("span",{style:{fontWeight:n?"bold":"normal",fontSize:20},children:t})})}},44:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(15),i=n(6),c=n(7),s=n.n(c),a=n(10),o=n(5),l=n(4),d=n(11),j=n(8),u=n(13),b=n(25),h=n(26),x=n(48),g=n(3);function f(t){var n=t.api,c=Object(l.useState)(!1),f=Object(o.a)(c,2),p=(f[0],f[1]),m=Object(l.useState)(!1),O=Object(o.a)(m,2),y=(O[0],O[1]),v=Object(l.useState)(!1),w=Object(o.a)(v,2),k=w[0],C=w[1],S=Object(l.useState)(!1),_=Object(o.a)(S,2),T=_[0],B=_[1],R=Object(l.useState)([]),I=Object(o.a)(R,2),W=I[0],z=I[1],P=Object(l.useState)(""),N=Object(o.a)(P,2),A=N[0],M=N[1],L=Object(l.useState)([]),D=Object(o.a)(L,2),F=D[0],E=D[1],J=Object(l.useState)([]),Y=Object(o.a)(J,2),G=Y[0],H=Y[1],U=Object(l.useState)(!1),V=Object(o.a)(U,2),q=V[0],K=V[1],Q=Object(l.useState)({target_acousticness:.1,target_danceability:.1,target_energy:.3,target_instrumentalness:.75,target_liveness:.55,target_speechiness:.1,target_valence:.2,target_tempo:140}),X=Object(o.a)(Q,2),Z=X[0],$=X[1],ee=function(){var t=Object(a.a)(s.a.mark((function t(){var r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.prev=1,console.log("search fn"),t.next=5,n.searchTracks(A,{limit:10});case 5:i=t.sent,E((null===(r=i.body.tracks)||void 0===r?void 0:r.items)||[]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.window.alert(t.t0);case 12:y(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),te=function(){var t=Object(a.a)(s.a.mark((function t(){var r,c,a,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p(!0),t.prev=1,r=G.flatMap((function(e){return e.artists.map((function(e){return e.id}))})),t.next=5,n.getArtists(r);case 5:return c=t.sent,a=c.body.artists.flatMap((function(e){return e.genres})),t.next=9,n.getRecommendations(Object(i.a)({limit:100,seed_genres:a,seed_artists:r,seed_tracks:G.map((function(e){return e.id}))},Z));case 9:o=t.sent,z(o.body.tracks),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),e.window.alert(t.t0);case 16:p(!1);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}(),ne=function(){var t=Object(a.a)(s.a.mark((function t(){var r,i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.window.prompt("Playlist name")){t.next=3;break}return t.abrupt("return");case 3:return p(!0),t.prev=4,t.next=7,n.createPlaylist(r,{description:"Playlist created by Asen's app"});case 7:return i=t.sent,t.next=10,n.addTracksToPlaylist(i.body.id,W.map((function(e){return e.uri})));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),e.window.alert(t.t0);case 15:p(!1);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Custom Playlist"}),Object(g.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(g.jsx)("div",{style:{flex:1}}),Object(g.jsx)(d.a,{text:"Seed",renderIcon:function(){return Object(g.jsx)(j.SettingsOutline,{width:"24px",height:"24px",color:"black"})},onClick:function(){return B(!0)}}),Object(g.jsx)("div",{style:{marginRight:16}}),Object(g.jsx)(d.a,{text:"Settings",renderIcon:function(){return Object(g.jsx)(j.Options,{width:"24px",height:"24px",color:"black"})},onClick:function(){return C(!0)}}),Object(g.jsx)("div",{style:{marginRight:16}}),Object(g.jsx)(d.a,{text:"Get Tracks",renderIcon:function(){return Object(g.jsx)(j.MusicalNotesOutline,{width:"24px",height:"24px",color:"black"})},onClick:function(){return te()}}),Object(g.jsx)("div",{style:{marginRight:16}}),Object(g.jsx)(d.a,{text:"Make into playlist",onClick:ne})]}),Object(g.jsx)("div",{children:W.length?Object(g.jsx)("div",{children:W.map((function(e,t){return Object(g.jsx)(x.a,{track:e,no:t+1},t)}))}):"Tracks will appear here"}),T?Object(g.jsx)(b.a,{onClose:function(){return B(!1)},children:Object(g.jsxs)("div",{style:{padding:16,width:"100%",height:"100%",borderRadius:16,overflowY:"auto",backgroundColor:"var(--color-2)"},children:[Object(g.jsx)("h1",{style:{margin:0,marginBottom:16},children:"Playlist seed"}),Object(g.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(g.jsx)(h.a,{text:"Seed tracks",selected:!q,onClick:function(){return K(!1)}}),Object(g.jsx)("div",{style:{marginRight:16}}),Object(g.jsx)(h.a,{text:"Search tracks",selected:q,onClick:function(){return K(!0)}})]}),q?Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(g.jsx)("form",{onSubmit:function(e){e.preventDefault(),ee()},style:{flex:1,marginRight:32},children:Object(g.jsx)("input",{type:"text",placeholder:"Search songs...",value:A,onChange:function(e){var t=e.target.value;return M(t)},style:{padding:8,width:"100%",fontSize:20,border:"none",color:"white",outline:"none",background:"none",fontWeight:"bold",borderBottom:"4px solid white"}})}),Object(g.jsx)(d.a,{text:"Go",onClick:ee,renderIcon:function(){return Object(g.jsx)(j.Search,{width:"24px",height:"24px",color:"black"})}})]}),Object(g.jsx)("div",{children:F.map((function(e,t){return Object(g.jsx)(u.a,{track:e,no:t+1,renderButton:function(){return G.some((function(t){return t.id===e.id}))?Object(g.jsx)(j.Remove,{width:"32px",height:"32px",color:"white",style:{cursor:"pointer"},onClick:function(){return H(G.filter((function(t){return t.id!==e.id})))}}):Object(g.jsx)(j.Add,{width:"32px",height:"32px",color:"white",style:{cursor:"pointer"},onClick:function(){return H([].concat(Object(r.a)(G),[e]))}})}},t)}))})]}):G.length?Object(g.jsx)("div",{children:G.map((function(e,t){return Object(g.jsx)(u.a,{track:e,no:t+1,renderButton:function(){return Object(g.jsx)(j.Remove,{width:"24px",height:"24px",color:"white",style:{cursor:"pointer"},onClick:function(){return H(G.filter((function(t){return t.id!==e.id})))}})}},t)}))}):Object(g.jsx)("div",{children:"No seed tracks selected yet, add some by searching for them"})]})}):null,k?Object(g.jsx)(b.a,{onClose:function(){return C(!1)},children:Object(g.jsxs)("div",{style:{padding:16,width:"100%",height:"100%",borderRadius:16,overflowY:"auto",backgroundColor:"var(--color-2)"},children:[Object(g.jsx)("h1",{style:{margin:0,marginBottom:32},children:"Playlist settings"}),Object(g.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(g.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(g.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Tempo"}),Object(g.jsx)("div",{style:{flex:1}}),Object(g.jsx)("div",{style:{marginRight:16},children:Z.target_tempo}),Object(g.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return $(Object(i.a)(Object(i.a)({},Z),{},{target_tempo:Number(t)}))},min:"80",max:"240",step:"1",style:{width:200},value:Z.target_tempo})]}),Object(g.jsx)("hr",{style:{marginBottom:16}}),Object(g.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(g.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Acousticness"}),Object(g.jsx)("div",{style:{flex:1}}),Object(g.jsx)("div",{style:{marginRight:16},children:Z.target_acousticness}),Object(g.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return $(Object(i.a)(Object(i.a)({},Z),{},{target_acousticness:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:Z.target_acousticness})]}),Object(g.jsx)("hr",{style:{marginBottom:16}}),Object(g.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(g.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Danceability"}),Object(g.jsx)("div",{style:{flex:1}}),Object(g.jsx)("div",{style:{marginRight:16},children:Z.target_danceability}),Object(g.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return $(Object(i.a)(Object(i.a)({},Z),{},{target_danceability:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:Z.target_danceability})]}),Object(g.jsx)("hr",{style:{marginBottom:16}}),Object(g.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(g.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Energy"}),Object(g.jsx)("div",{style:{flex:1}}),Object(g.jsx)("div",{style:{marginRight:16},children:Z.target_energy}),Object(g.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return $(Object(i.a)(Object(i.a)({},Z),{},{target_energy:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:Z.target_energy})]}),Object(g.jsx)("hr",{style:{marginBottom:16}}),Object(g.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(g.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Instrumentalness"}),Object(g.jsx)("div",{style:{flex:1}}),Object(g.jsx)("div",{style:{marginRight:16},children:Z.target_instrumentalness}),Object(g.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return $(Object(i.a)(Object(i.a)({},Z),{},{target_instrumentalness:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:Z.target_instrumentalness})]}),Object(g.jsx)("hr",{style:{marginBottom:16}}),Object(g.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(g.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Liveness"}),Object(g.jsx)("div",{style:{flex:1}}),Object(g.jsx)("div",{style:{marginRight:16},children:Z.target_liveness}),Object(g.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return $(Object(i.a)(Object(i.a)({},Z),{},{target_liveness:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:Z.target_liveness})]}),Object(g.jsx)("hr",{style:{marginBottom:16}}),Object(g.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(g.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Speechiness"}),Object(g.jsx)("div",{style:{flex:1}}),Object(g.jsx)("div",{style:{marginRight:16},children:Z.target_speechiness}),Object(g.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return $(Object(i.a)(Object(i.a)({},Z),{},{target_speechiness:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:Z.target_speechiness})]}),Object(g.jsx)("hr",{style:{marginBottom:16}}),Object(g.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(g.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Valence"}),Object(g.jsx)("div",{style:{flex:1}}),Object(g.jsx)("div",{style:{marginRight:16},children:Z.target_valence}),Object(g.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return $(Object(i.a)(Object(i.a)({},Z),{},{target_valence:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:Z.target_valence})]})]})]})}):null]})}}).call(this,n(17))},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(4);var r=n(14),i=n(3);function c(e){var t=e.track,n=e.no,c=e.renderButton,s=void 0===c?function(){return Object(i.jsx)("div",{})}:c;return Object(i.jsxs)("div",{style:{backgroundColor:"var(--color-2)",padding:16,borderRadius:8,display:"flex",alignItems:"center",marginBottom:16,position:"relative",overflow:"hidden"},children:[Object(i.jsxs)("div",{style:{width:50,fontSize:20,display:"flex",marginRight:16,fontWeight:"bold",justifyContent:"center"},children:[n,"."]}),Object(i.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center"},children:Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{style:{display:"flex",alignItems:"baseline",flexWrap:"wrap",marginBottom:4},children:[Object(i.jsx)("h2",{style:{margin:0,padding:0,marginRight:8},children:t.name}),Object(i.jsx)("div",{children:t.artists.map((function(e,r){return Object(i.jsxs)("span",{children:[Object(i.jsx)("a",{href:e.external_urls.spotify,children:e.name}),Object(i.jsx)("span",{style:{marginRight:4},children:r!==t.artists.length-1?",":""})]},"artist_".concat(r,"_track_").concat(n))}))})]}),Object(i.jsx)("div",{style:{marginTop:4},children:Object(r.b)(t.duration_ms)})]})}),s()]})}},49:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(7),i=n.n(r),c=n(15),s=n(10),a=n(5),o=n(4),l=n(13),d=n(8),j=n(50),u=n(3);function b(t){var n=t.api,r=Object(o.useState)(0),b=Object(a.a)(r,2),h=b[0],x=b[1],g=Object(o.useState)(!1),f=Object(a.a)(g,2),p=f[0],m=f[1],O=Object(o.useState)([]),y=Object(a.a)(O,2),v=y[0],w=y[1],k=Object(o.useState)("long_term"),C=Object(a.a)(k,2),S=C[0],_=C[1],T=Object(o.useState)(!1),B=Object(a.a)(T,2),R=B[0],I=B[1],W=Object(o.useState)(!1),z=Object(a.a)(W,2),P=z[0],N=z[1],A=function(){var t=Object(s.a)(i.a.mark((function t(r,s,a){var o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,t.next=4,n.getMyTopTracks({time_range:s,limit:50,offset:50*r});case 4:(o=t.sent).body.items.length?w([].concat(Object(c.a)(a),Object(c.a)(o.body.items))):I(!0),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),e.window.alert(t.t0);case 12:m(!1);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n,r){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){A(0,S,[])}),[]);var M=function(e,t){return Object(u.jsx)("div",{onClick:function(){return _(e=t),x(0),w([]),void A(0,e,[]);var e},style:{cursor:"pointer",marginLeft:16},children:Object(u.jsx)("span",{style:{fontWeight:S===t?"bold":"normal"},children:e})})};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{style:{padding:16},children:[Object(u.jsxs)("div",{style:{display:"flex",alignItems:"baseline",marginBottom:16},children:[Object(u.jsx)("h1",{style:{margin:0},children:"Top Tracks"}),Object(u.jsx)("div",{style:{flex:1}}),Object(u.jsxs)("div",{style:{display:"flex"},children:[M("1+ Year","long_term"),M("Last 6 months","medium_term"),M("Last 4 weeks","short_term")]})]}),Object(u.jsxs)("div",{style:{display:"flex",alignItems:"baseline",marginBottom:16},children:[Object(u.jsx)("div",{style:{flex:1}}),Object(u.jsxs)("div",{style:{display:"flex",cursor:"pointer",alignItems:"center",padding:"8px 16px",borderRadius:"100vw",backgroundColor:"var(--color-8)",color:"var(--color-1)"},onClick:function(){return N(!0)},children:[Object(u.jsx)("span",{style:{fontWeight:"bold",marginBottom:2,marginRight:8},children:"Create Playlist"}),Object(u.jsx)(d.Add,{style:{color:"var(--color-1)",width:24,height:24}})]})]}),v.map((function(e,t){return Object(u.jsx)(l.a,{track:e,no:t+1},t)})),R?null:Object(u.jsxs)("div",{style:{textAlign:"center",cursor:"pointer",marginTop:32},onClick:function(){x(h+1),A(h+1,S,v)},children:[Object(u.jsx)("div",{style:{marginBottom:16},children:p?"Loading...":"Get more"}),p?null:Object(u.jsx)(d.ChevronDown,{height:"32px",width:"32px",color:"white"})]})]}),P?Object(u.jsx)(j.a,{api:n,tracks:v,initName:"My top songs from the last ".concat("long_term"===S?"year":"medium_term"===S?"6 months":"month"),onClose:function(){return N(!1)}}):null]})}}).call(this,n(17))},50:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(7),i=n.n(r),c=n(10),s=n(5),a=n(8),o=n(4),l=n(3);function d(t){var n=t.api,r=t.tracks,d=t.initName,j=t.onClose,u=Object(o.useState)(!1),b=Object(s.a)(u,2),h=b[0],x=b[1],g=Object(o.useState)(d),f=Object(s.a)(g,2),p=f[0],m=f[1],O=Object(o.useState)(!1),y=Object(s.a)(O,2),v=y[0],w=y[1],k=function(){var t=Object(c.a)(i.a.mark((function t(){var c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),t.prev=1,t.next=4,n.createPlaylist(p,{description:"Playlist created by Asen's app"});case 4:return c=t.sent,t.next=7,n.addTracksToPlaylist(c.body.id,r.map((function(e){return e.uri})));case 7:j(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.window.alert(t.t0);case 13:x(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return Object(l.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:100,width:"calc(100vw - 32px)",height:"calc(100vh - 32px)",backgroundColor:"rgba(0,0,0,0.8)",padding:16,overflowY:"auto"},children:Object(l.jsx)("div",{style:{maxWidth:960,margin:"0 auto",display:"flex",flexDirection:"column",height:"100%"},children:h?Object(l.jsx)("h1",{children:"Loading..."}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsx)("div",{style:{flex:1}}),Object(l.jsx)(a.CloseSharp,{color:"white",width:"48px",height:"48px",onClick:j})]}),Object(l.jsxs)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",paddingBottom:64},children:[Object(l.jsx)("h1",{children:"Name your playlist"}),Object(l.jsx)("input",{type:"text",placeholder:"Type name...",value:p,onChange:function(e){var t=e.target.value;return m(t)},style:{width:"100%",fontSize:20,border:"none",color:"white",outline:"none",background:"none",fontWeight:"bold",padding:"8px 16px",borderBottom:"4px solid white"}}),Object(l.jsx)("div",{style:{cursor:"pointer",marginTop:32,width:"100%",textAlign:"center",padding:16,borderRadius:"100vw",backgroundColor:"var(--color-2)"},children:Object(l.jsx)("span",{style:{fontSize:20,fontWeight:"bold"},onClick:k,children:"Create Playlist"})}),Object(l.jsx)("h2",{children:"Tracks in playlist"}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{style:{fontSize:18,fontWeight:"bold"},children:[r.length," tracks"]}),Object(l.jsx)("div",{style:{cursor:"pointer",textAlign:"center"},onClick:function(){return w(!v)},children:v?"Hide":"Show all"})]}),v?Object(l.jsx)("div",{style:{maxHeight:200,marginTop:16,width:"100%"},children:r.map((function(e,t){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:e.name}),Object(l.jsx)("div",{children:e.artists.map((function(e){return e.name})).join(", ")}),t!==r.length-1?Object(l.jsx)("hr",{style:{marginTop:16}}):Object(l.jsx)("div",{style:{marginBottom:64}})]},t)}))}):null]})]})})})}}).call(this,n(17))},56:function(e,t,n){},57:function(e,t,n){},76:function(e,t){}},[[1418,1,2]]]);
//# sourceMappingURL=main.480e5849.chunk.js.map