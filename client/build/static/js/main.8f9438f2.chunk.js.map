{"version":3,"sources":["components/Button.tsx","components/RenderTrack.tsx","utils/formatTime.ts","components/Header.tsx","Dash.tsx","useAuth.ts","logo.png","Login.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/Modal.tsx","components/TextButton.tsx","components/CustomPlaylist.tsx","components/RenderTrackSimple.tsx","components/TopTracks.tsx","components/CreatePlaylist.tsx"],"names":["Button","text","onClick","renderIcon","style","display","alignItems","marginBottom","flex","cursor","padding","borderRadius","backgroundColor","color","fontWeight","marginRight","RenderTrack","track","no","renderButton","position","overflow","height","bottom","left","right","width","popularity","fontSize","justifyContent","href","album","external_urls","spotify","src","images","url","flexWrap","margin","name","artists","map","x","i","length","albumDate","release_date","marginTop","fromMs","duration_ms","ms","mm","Math","floor","toString","padStart","ss","mos","date","parts","split","yr","mo","Number","Header","me","page","changePage","_renderLink","p","paddingTop","paddingBottom","image","marginLeft","followers","api","SpotifyWebApi","clientId","clientSecret","redirectUri","Dash","code","useState","accessToken","setAccessToken","refreshToken","setRefreshToken","expiresIn","setExpiresIn","useEffect","axios","post","then","res","data","window","history","pushState","catch","location","interval","setInterval","fetch","method","body","JSON","stringify","headers","ContentType","clearInterval","useAuth","setMe","setPage","a","getMe","id","display_name","total","getAccessToken","maxWidth","TopTracks","CustomPlaylist","scopes","join","AUTH_URL","Login","assign","logo","App","URLSearchParams","search","get","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","console","log","Modal","onClose","children","top","zIndex","overflowY","flexDirection","TextButton","selected","setLoading","setSearching","openSettings","setOpenSettings","openSeed","setOpenSeed","tracks","setTracks","setSearch","results","setResults","seedTracks","setSeedTracks","isSearch","setIsSearch","target_acousticness","target_danceability","target_energy","target_instrumentalness","target_liveness","target_speechiness","target_valence","target_tempo","options","setOptions","doSearch","searchTracks","limit","items","global","alert","getTracks","ids","flatMap","getArtists","artistsRes","seed_genres","genres","getRecommendations","seed_artists","seed_tracks","create","prompt","createPlaylist","description","addTracksToPlaylist","uri","t","onSubmit","e","preventDefault","type","placeholder","value","onChange","target","border","outline","background","borderBottom","some","filter","min","max","step","RenderTrackSimple","loading","time_range","setTimeRange","noMore","setNoMore","modal","setModal","getNext","tr","prevTracks","getMyTopTracks","offset","_renderTimeRange","title","s","textAlign","initName","CreatePlaylist","setName","shown","setShown","maxHeight"],"mappings":"gJAAO,SAASA,EAAT,GAQH,IAPFC,EAOC,EAPDA,KACAC,EAMC,EANDA,QACAC,EAKC,EALDA,WAMA,OACE,sBACEC,MAAO,CACLC,QAAS,OACTC,WAAY,WACZC,aAAc,IAJlB,UAOE,qBAAKH,MAAO,CAAEI,KAAM,KACpB,sBACEJ,MAAO,CACLC,QAAS,OACTI,OAAQ,UACRH,WAAY,SACZI,QAAS,WACTC,aAAc,QACdC,gBAAiB,iBACjBC,MAAO,kBAETX,QAASA,EAVX,UAYE,sBAAME,MAAO,CAAEU,WAAY,OAAQP,aAAc,EAAGQ,YAAa,GAAjE,SACGd,MAEAE,GAAcA,Y,gCCjCzB,0DAQO,SAASa,EAAT,GAII,IAHTC,EAGQ,EAHRA,MACAC,EAEQ,EAFRA,GAEQ,IADRC,oBACQ,MADO,kBAAM,yBACb,EACR,OACE,sBACEf,MAAO,CACLQ,gBAAiB,iBACjBF,QAAS,GACTC,aAAc,EACdN,QAAS,OACTC,WAAY,SACZC,aAAc,GACda,SAAU,WACVC,SAAU,UATd,UAaE,qBACEjB,MAAO,CACLkB,OAAQ,EACRF,SAAU,WACVG,OAAQ,EACRC,KAAM,EACNC,MAAO,EACPC,MAAOT,EAAMU,WAAa,IAC1Bf,gBAAiB,oBAKrB,sBACER,MAAO,CACLsB,MAAO,GACPE,SAAU,GACVvB,QAAS,OACTU,YAAa,GACbD,WAAY,OACZe,eAAgB,UAPpB,UAUGX,EAVH,OAcA,sBACEd,MAAO,CACLI,KAAM,EACNH,QAAS,OACTC,WAAY,UAJhB,UAOE,mBAAGwB,KAAMb,EAAMc,MAAMC,cAAcC,QAAnC,SACE,qBACEP,MAAM,QACNJ,OAAO,QACPY,IAAKjB,EAAMc,MAAMI,OAAO,GAAGC,IAC3BhC,MAAO,CAAEW,YAAa,QAG1B,gCACE,sBACEX,MAAO,CACLC,QAAS,OACTC,WAAY,WACZ+B,SAAU,OACV9B,aAAc,GALlB,UAQE,oBAAIH,MAAO,CAAEkC,OAAQ,EAAG5B,QAAS,EAAGK,YAAa,GAAjD,SACGE,EAAMsB,OAET,8BACGtB,EAAMuB,QAAQC,KAAI,SAACC,EAAGC,GAAJ,OACjB,iCACE,mBAAGb,KAAMY,EAAEV,cAAcC,QAAzB,SAAmCS,EAAEH,OACrC,sBAAMnC,MAAO,CAAEW,YAAa,GAA5B,SACG4B,IAAM1B,EAAMuB,QAAQI,OAAS,EAAI,IAAM,OAH5C,iBAAqBD,EAArB,kBAAgCzB,YAUtC,oBACEY,KAAMb,EAAMc,MAAMC,cAAcC,QAChC7B,MAAO,CAAEU,WAAY,QAFvB,UAIGG,EAAMc,MAAMQ,KAJf,KAIuBM,YAAU5B,EAAMc,MAAMe,cAJ7C,OAOA,qBAAK1C,MAAO,CAAE2C,UAAW,GAAzB,SAA+BC,YAAO/B,EAAMgC,qBAK/C9B,S,gCCzGP,oEAAO,IAAM6B,EAAS,SAACE,GACrB,IAAMC,EAAKC,KAAKC,MAAOH,EAAK,IAAO,GAAM,IACtCI,WACAC,SAAS,EAAG,KACTC,EAAKJ,KAAKC,MAAOH,EAAK,IAAQ,IACjCI,WACAC,SAAS,EAAG,KACf,MAAM,GAAN,OAAUJ,EAAV,YAAgBK,IAGZC,EAAM,CACV,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OAEWZ,EAAY,SAACa,GACxB,IAAMC,EAAQD,EAAKE,MAAM,KACnBC,EAAKF,EAAM,GACXG,EAAKL,EAAIM,OAAOJ,EAAM,IAAM,GAClC,MAAM,GAAN,OAAUG,EAAV,YAAgBD,K,2JCxBH,SAASG,EAAT,GAQX,IAPFC,EAOC,EAPDA,GACAC,EAMC,EANDA,KACAC,EAKC,EALDA,WAMMC,EAAc,SAACnE,EAAcoE,GACjC,OACE,qBACEjE,MAAO,CAAEW,YAAa,GAAIN,OAAQ,WAClCP,QAAS,kBAAMiE,EAAWE,IAF5B,SAIE,sBACEjE,MAAO,CAAEU,WAAYoD,IAASG,EAAI,OAAS,SAAUzC,SAAU,IADjE,SAGG3B,OAMT,OACE,sBACEG,MAAO,CACLsB,MAAO,OACPrB,QAAS,OACTE,aAAc,GACd+D,WAAY,GACZC,cAAe,IANnB,UASGH,EAAY,aAAc,cAC1BA,EAAY,kBAAmB,mBAChC,qBAAKhE,MAAO,CAAEI,KAAM,KACpB,sBACEJ,MAAO,CACLM,QAAS,WACTL,QAAS,OACTC,WAAY,SACZK,aAAc,QACdkB,eAAgB,SAChBjB,gBAAiB,kBAPrB,UAUE,qBACEc,MAAM,OACNJ,OAAO,OACPY,IAAK+B,EAAGO,MACRpE,MAAO,CAAEO,aAAc,MAEzB,sBAAKP,MAAO,CAAEqE,WAAY,GAAI7C,SAAU,IAAxC,UACE,qBAAKxB,MAAO,CAAEU,WAAY,QAA1B,SAAqCmD,EAAG1B,OACxC,gCAAM0B,EAAGS,UAAT,yB,6BClDV,IAAMC,EAAM,IAAIC,IAAc,CAC5BC,SAAU,mCACVC,aAAc,mCACdC,YAAa,0BAGA,SAASC,EAAT,GAA2C,IAAD,ECZ1C,SAAiBC,GAAe,IAAD,EACNC,mBAAS,IADH,mBACrCC,EADqC,KACxBC,EADwB,OAEJF,mBAAS,IAFL,mBAErCG,EAFqC,KAEvBC,EAFuB,OAGVJ,mBAAS,IAHC,mBAGrCK,EAHqC,KAG1BC,EAH0B,KAuC5C,OAlCAC,qBAAU,WACRC,IACGC,KAAK,8BAA+B,CAAEV,SACtCW,MAAK,SAACC,GACLT,EAAeS,EAAIC,KAAKX,aACxBG,EAAgBO,EAAIC,KAAKT,cACzBG,EAAaK,EAAIC,KAAKP,WAEtBQ,OAAOC,QAAQC,UAAU,GAAI,KAAM,QAEpCC,OAAM,WAELH,OAAOI,SAAW,SAErB,CAAClB,IAEJQ,qBAAU,WACR,GAAKJ,GAAiBE,EAAtB,CACA,IAAMa,EAAWC,aAAY,WAC3BC,MAAM,gCAAiC,CACrCC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAErB,iBACvBsB,QAAS,CAAEC,YAAa,sBAEvBhB,MAAK,SAACC,GACLT,EAAeS,EAAIC,KAAKX,aACxBK,EAAaK,EAAIC,KAAKP,cAEvBW,OAAM,iBACW,KAAlBX,EAAY,KAEhB,OAAO,kBAAMsB,cAAcT,OAC1B,CAACf,EAAcE,IAEX,CAAEJ,cAAaE,gBD1BgByB,CADiB,EAA1B7B,MACrBE,EAD+C,EAC/CA,YAAaE,EADkC,EAClCA,aADkC,EAEnCH,mBAAoB,MAFe,mBAEhDjB,EAFgD,KAE5C8C,EAF4C,OAG/B7B,mBAAe,cAHgB,mBAGhDhB,EAHgD,KAG1C8C,EAH0C,KA0BvD,OAfAvB,qBAAU,WACHN,IACLR,EAAIS,eAAeD,GACnBR,EAAIW,gBAAgBD,GACpB,sBAAC,gCAAA4B,EAAA,sEACmBtC,EAAIuC,QADvB,OACOrB,EADP,OAECkB,EAAM,CACJI,GAAItB,EAAIW,KAAKW,GACb5E,KAAMsD,EAAIW,KAAKY,cAAgB,UAC/B5C,OAAO,UAACqB,EAAIW,KAAKrE,cAAV,aAAC,EAAiBS,QAAciD,EAAIW,KAAKrE,OAAO,GAAGC,IAAxB,GAClCsC,WAAW,UAAAmB,EAAIW,KAAK9B,iBAAT,eAAoB2C,QAAS,IAN3C,0CAAD,MASC,CAAClC,IAECR,EAAI2C,iBAEP,sBAAKlH,MAAO,CAAEmH,SAAU,IAAKjF,OAAQ,UAArC,UACI2B,EAAY,cAACD,EAAD,CAAQC,GAAIA,EAAIC,KAAMA,EAAMC,WAAY,SAAAE,GAAC,OAAI2C,EAAQ3C,MAA5D,KAvBI,eAATH,EAA8B,cAACsD,EAAA,EAAD,CAAW7C,IAAKA,IAChC,oBAATT,EAAmC,cAACuD,EAAA,EAAD,CAAgB9C,IAAKA,IACrD,QAkBoB,KEzCrB,UAA0B,iCCKnC+C,EAAS,CACb,YACA,gBACA,kBACA,oBACA,oBACA,sBACA,2BACA,6BACA,4BACA,yBACA,0BACA,wBACA,uBACAC,KAAK,OAIDC,EAAQ,UAHD,yCAGC,sBAnBG,mCAmBH,4CApBM,wBAoBN,kBAAyFF,GAExF,SAASG,IACtB,OACE,qBACEzH,MAAO,CACLsB,MAAO,QACPJ,OAAQ,QACRjB,QAAS,OACTC,WAAY,SACZuB,eAAgB,UANpB,SASE,sBACEzB,MAAO,CACLM,QAAS,GACTC,aAAc,EACdF,OAAQ,UACRG,gBAAiB,iBACjBP,QAAS,OACTC,WAAY,UAEdJ,QAAS,WACP6F,OAAOI,SAAS2B,OAAOF,IAV3B,UAaE,sBAAMxH,MAAO,CAAEW,YAAa,GAAID,WAAY,QAA5C,gCAGA,qBAAKoB,IAAK6F,EAAMrG,MAAM,OAAOJ,OAAO,cCxC7B0G,MANf,WACE,IAAM/C,EAAO,IAAIgD,gBAAgBlC,OAAOI,SAAS+B,QAAQC,IAAI,QAE7D,OAAOlD,EAAO,cAACD,EAAD,CAAYC,SAAa,cAAC4C,EAAD,KCK1BO,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,+BAAqB1C,MAAK,YAAkD,IAA/C2C,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAG1BZ,EAAgBa,QAAQC,M,gCCbxB,yDAGaC,EAA2C,SAAC,GAGlD,IAFLC,EAEI,EAFJA,QACAC,EACI,EADJA,SAEA,OACE,qBACEjJ,MAAO,CACLgB,SAAU,QACVkI,IAAK,EACL9H,KAAM,EACNC,MAAO,EACPF,OAAQ,EACRgI,OAAQ,IACR7H,MAAO,qBACPJ,OAAQ,qBACRV,gBAAiB,kBACjBF,QAAS,GACT8I,UAAW,QAZf,SAeE,sBACEpJ,MAAO,CACLmH,SAAU,IACVjF,OAAQ,SACRjC,QAAS,OACToJ,cAAe,SACfnI,OAAQ,QANZ,UASE,sBAAKlB,MAAO,CAAEC,QAAS,QAAvB,UACE,qBAAKD,MAAO,CAAEI,KAAM,KACpB,cAAC,aAAD,CACEK,MAAM,QACNa,MAAM,OACNJ,OAAO,OACPlB,MAAO,CAAEK,OAAQ,WACjBP,QAASkJ,OAGb,qBACEhJ,MAAO,CACLI,KAAM,EACNH,QAAS,OACTC,WAAY,SACZuB,eAAgB,SAChB4H,cAAe,SACflF,cAAe,IAPnB,SAUG8E,W,6ECpDJ,SAASK,EAAT,GAQH,IAPFzJ,EAOC,EAPDA,KACA0J,EAMC,EANDA,SACAzJ,EAKC,EALDA,QAMA,OACE,qBAAKE,MAAO,CAAEW,YAAa,GAAIN,OAAQ,WAAaP,QAASA,EAA7D,SACE,sBAAME,MAAO,CAAEU,WAAY6I,EAAW,OAAS,SAAU/H,SAAU,IAAnE,SACG3B,Q,8LCcF,SAASwH,EAAT,GAA0D,IAAhC9C,EAA+B,EAA/BA,IAA+B,EAChCO,oBAAS,GADuB,mBAC9C0E,GAD8C,aAE5B1E,oBAAS,GAFmB,mBAE5C2E,GAF4C,aAGtB3E,oBAAS,GAHa,mBAGvD4E,EAHuD,KAGzCC,EAHyC,OAI9B7E,oBAAS,GAJqB,mBAIvD8E,EAJuD,KAI7CC,EAJ6C,OAKlC/E,mBAA6C,IALX,mBAKvDgF,EALuD,KAK/CC,EAL+C,OAMlCjF,mBAAS,IANyB,mBAMvDgD,EANuD,KAM/CkC,EAN+C,OAOhClF,mBAAuC,IAPP,mBAOvDmF,EAPuD,KAO9CC,EAP8C,OAQ1BpF,mBAClC,IAT4D,mBAQvDqF,EARuD,KAQ3CC,EAR2C,OAW9BtF,oBAAS,GAXqB,mBAWvDuF,EAXuD,KAW7CC,EAX6C,OAYhCxF,mBAAkB,CAC9CyF,oBAAqB,GACrBC,oBAAqB,GACrBC,cAAe,GACfC,wBAAyB,IACzBC,gBAAiB,IACjBC,mBAAoB,GACpBC,eAAgB,GAChBC,aAAc,MApB8C,mBAYvDC,EAZuD,KAY9CC,EAZ8C,KAuBxDC,GAAQ,uCAAG,8BAAApE,EAAA,6DACf4C,GAAa,GADE,SAGbZ,QAAQC,IAAI,aAHC,SAIKvE,EAAI2G,aAAapD,EAAQ,CAAEqD,MAAO,KAJvC,OAIP1F,EAJO,OAKbyE,GAAW,UAAAzE,EAAIW,KAAK0D,cAAT,eAAiBsB,QAAS,IALxB,gDAObC,EAAO1F,OAAO2F,MAAd,MAPa,QASf7B,GAAa,GATE,yDAAH,qDAYR8B,GAAS,uCAAG,kCAAA1E,EAAA,6DAChB2C,GAAW,GADK,SAGRgC,EAAMrB,EAAWsB,SAAQ,SAAAnJ,GAAC,OAAIA,EAAEF,QAAQC,KAAI,SAAAC,GAAC,OAAIA,EAAEyE,SAH3C,SAIWxC,EAAImH,WAAWF,GAJ1B,cAIRG,EAJQ,OAKRC,EAAcD,EAAWvF,KAAKhE,QAAQqJ,SAAQ,SAAAnJ,GAAC,OAAIA,EAAEuJ,UAL7C,SAMItH,EAAIuH,mBAAJ,aAChBX,MAAO,IACPS,cACAG,aAAcP,EACdQ,YAAa7B,EAAW9H,KAAI,SAAAC,GAAC,OAAIA,EAAEyE,OAChCgE,IAXS,OAMRtF,EANQ,OAadsE,EAAUtE,EAAIW,KAAK0D,QAbL,kDAeduB,EAAO1F,OAAO2F,MAAd,MAfc,QAiBhB9B,GAAW,GAjBK,0DAAH,qDA4HTyC,GAAM,uCAAG,8BAAApF,EAAA,yDACP1E,EAAOkJ,EAAO1F,OAAOuG,OAAO,iBADrB,wDAIb1C,GAAW,GAJE,kBAMOjF,EAAI4H,eAAehK,EAAM,CACzCiK,YAAa,mCAPJ,cAML3G,EANK,iBASLlB,EAAI8H,oBACR5G,EAAIW,KAAKW,GACT+C,EAAOzH,KAAI,SAAAC,GAAC,OAAIA,EAAEgK,QAXT,0DAcXjB,EAAO1F,OAAO2F,MAAd,MAdW,QAgBb9B,GAAW,GAhBE,0DAAH,qDAmBZ,OACE,gCACE,iDACA,sBAAKxJ,MAAO,CAAEC,QAAS,OAAQE,aAAc,IAA7C,UACE,qBAAKH,MAAO,CAAEI,KAAM,KACpB,cAAC,IAAD,CACEP,KAAK,OACLE,WAAY,kBACV,cAAC,kBAAD,CAAiBuB,MAAM,OAAOJ,OAAO,OAAOT,MAAM,WAEpDX,QAAS,kBAAM+J,GAAY,MAE7B,qBAAK7J,MAAO,CAAEW,YAAa,MAC3B,cAAC,IAAD,CACEd,KAAK,WACLE,WAAY,kBACV,cAAC,UAAD,CAASuB,MAAM,OAAOJ,OAAO,OAAOT,MAAM,WAE5CX,QAAS,kBAAM6J,GAAgB,MAEjC,qBAAK3J,MAAO,CAAEW,YAAa,MAC3B,cAAC,IAAD,CACEd,KAAK,aACLE,WAAY,kBACV,cAAC,sBAAD,CAAqBuB,MAAM,OAAOJ,OAAO,OAAOT,MAAM,WAExDX,QAAS,kBAAMyL,QAEjB,qBAAKvL,MAAO,CAAEW,YAAa,MAC3B,cAAC,IAAD,CAAQd,KAAK,qBAAqBC,QAASmM,QAE7C,8BACInC,EAAOtH,OAGP,8BACGsH,EAAOzH,KAAI,SAACkK,EAAGhK,GAAJ,OACV,cAAC,IAAD,CAA2B1B,MAAO0L,EAAGzL,GAAIyB,EAAI,GAArBA,QAJ5B,4BAUHqH,EACC,cAAC,IAAD,CAAOZ,QAAS,kBAAMa,GAAY,IAAlC,SACE,sBACE7J,MAAO,CACLM,QAAS,GACTgB,MAAO,OACPJ,OAAQ,OACRX,aAAc,GACd6I,UAAW,OACX5I,gBAAiB,kBAPrB,UAUE,oBAAIR,MAAO,CAAEkC,OAAQ,EAAG/B,aAAc,IAAtC,2BACA,sBAAKH,MAAO,CAAEC,QAAS,OAAQE,aAAc,IAA7C,UACE,cAAC,IAAD,CACEN,KAAK,cACL0J,UAAWc,EACXvK,QAAS,kBAAMwK,GAAY,MAE7B,qBAAKtK,MAAO,CAAEW,YAAa,MAC3B,cAAC,IAAD,CACEd,KAAK,gBACL0J,SAAUc,EACVvK,QAAS,kBAAMwK,GAAY,SAI9BD,EA/LP,gCACE,sBAAKrK,MAAO,CAAEC,QAAS,OAAQE,aAAc,IAA7C,UACE,sBACEqM,SAAU,SAAAC,GACRA,EAAEC,iBACFzB,MAEFjL,MAAO,CAAEI,KAAM,EAAGO,YAAa,IALjC,SAOE,uBACEgM,KAAK,OACLC,YAAY,kBACZC,MAAO/E,EACPgF,SAAU,gBAAaD,EAAb,EAAGE,OAAUF,MAAb,OAA2B7C,EAAU6C,IAC/C7M,MAAO,CACLM,QAAS,EACTgB,MAAO,OACPE,SAAU,GACVwL,OAAQ,OACRvM,MAAO,QACPwM,QAAS,OACTC,WAAY,OACZxM,WAAY,OACZyM,aAAc,uBAIpB,cAAC,IAAD,CACEtN,KAAK,KACLC,QAASmL,GACTlL,WAAY,kBACV,cAAC,SAAD,CAAQuB,MAAM,OAAOJ,OAAO,OAAOT,MAAM,gBAI/C,8BACGwJ,EAAQ5H,KAAI,SAACkK,EAAGhK,GAAJ,OACX,cAAC,IAAD,CAEE1B,MAAO0L,EACPzL,GAAIyB,EAAI,EACRxB,aAAc,WACZ,OAAIoJ,EAAWiD,MAAK,SAAA9K,GAAC,OAAIA,EAAEyE,KAAOwF,EAAExF,MAEhC,cAAC,SAAD,CACEzF,MAAM,OACNJ,OAAO,OACPT,MAAM,QACNT,MAAO,CAAEK,OAAQ,WACjBP,QAAS,kBACPsK,EAAcD,EAAWkD,QAAO,SAAA/K,GAAC,OAAIA,EAAEyE,KAAOwF,EAAExF,UAKtD,cAAC,MAAD,CACEzF,MAAM,OACNJ,OAAO,OACPT,MAAM,QACNT,MAAO,CAAEK,OAAQ,WACjBP,QAAS,kBAAMsK,EAAc,GAAD,mBAAKD,GAAL,CAAiBoC,UAtB9ChK,WAkCV4H,EAAW3H,OAKd,8BACG2H,EAAW9H,KAAI,SAACkK,EAAGhK,GAAJ,OACd,cAAC,IAAD,CAEE1B,MAAO0L,EACPzL,GAAIyB,EAAI,EACRxB,aAAc,WACZ,OACE,cAAC,SAAD,CACEO,MAAM,OACNJ,OAAO,OACPT,MAAM,QACNT,MAAO,CAAEK,OAAQ,WACjBP,QAAS,kBACPsK,EAAcD,EAAWkD,QAAO,SAAA/K,GAAC,OAAIA,EAAEyE,KAAOwF,EAAExF,YAXnDxE,QANT,mGAwHE,KAEHmH,EACC,cAAC,IAAD,CAAOV,QAAS,kBAAMW,GAAgB,IAAtC,SACE,sBACE3J,MAAO,CACLM,QAAS,GACTgB,MAAO,OACPJ,OAAQ,OACRX,aAAc,GACd6I,UAAW,OACX5I,gBAAiB,kBAPrB,UAUE,oBAAIR,MAAO,CAAEkC,OAAQ,EAAG/B,aAAc,IAAtC,+BACA,uBAAMqM,SAAU,SAAAC,GAAC,OAAIA,EAAEC,kBAAvB,UACE,sBAAK1M,MAAO,CAAEC,QAAS,OAAQE,aAAc,IAA7C,UACE,qBAAKH,MAAO,CAAEwB,SAAU,GAAId,WAAY,QAAxC,0BAGA,qBAAKV,MAAO,CAAEI,KAAM,KACpB,qBAAKJ,MAAO,CAAEW,YAAa,IAA3B,SAAkCoK,EAAQD,eAC1C,uBACE6B,KAAK,QACLG,SAAU,gBAAaD,EAAb,EAAGE,OAAUF,MAAb,OACR7B,EAAW,2BAAKD,GAAN,IAAeD,aAAcnH,OAAOkJ,OAEhDS,IAAI,KACJC,IAAI,MACJC,KAAK,IACLxN,MAAO,CAAEsB,MAAO,KAChBuL,MAAO9B,EAAQD,kBAGnB,oBAAI9K,MAAO,CAAEG,aAAc,MAE3B,sBAAKH,MAAO,CAAEC,QAAS,OAAQE,aAAc,IAA7C,UACE,qBAAKH,MAAO,CAAEwB,SAAU,GAAId,WAAY,QAAxC,iCAGA,qBAAKV,MAAO,CAAEI,KAAM,KACpB,qBAAKJ,MAAO,CAAEW,YAAa,IAA3B,SACGoK,EAAQR,sBAEX,uBACEoC,KAAK,QACLG,SAAU,gBAAaD,EAAb,EAAGE,OAAUF,MAAb,OACR7B,EAAW,2BACND,GADK,IAERR,oBAAqB5G,OAAOkJ,OAGhCS,IAAI,IACJC,IAAI,IACJC,KAAK,OACLxN,MAAO,CAAEsB,MAAO,KAChBuL,MAAO9B,EAAQR,yBAGnB,oBAAIvK,MAAO,CAAEG,aAAc,MAE3B,sBAAKH,MAAO,CAAEC,QAAS,OAAQE,aAAc,IAA7C,UACE,qBAAKH,MAAO,CAAEwB,SAAU,GAAId,WAAY,QAAxC,iCAGA,qBAAKV,MAAO,CAAEI,KAAM,KACpB,qBAAKJ,MAAO,CAAEW,YAAa,IAA3B,SACGoK,EAAQP,sBAEX,uBACEmC,KAAK,QACLG,SAAU,gBAAaD,EAAb,EAAGE,OAAUF,MAAb,OACR7B,EAAW,2BACND,GADK,IAERP,oBAAqB7G,OAAOkJ,OAGhCS,IAAI,IACJC,IAAI,IACJC,KAAK,OACLxN,MAAO,CAAEsB,MAAO,KAChBuL,MAAO9B,EAAQP,yBAGnB,oBAAIxK,MAAO,CAAEG,aAAc,MAE3B,sBAAKH,MAAO,CAAEC,QAAS,OAAQE,aAAc,IAA7C,UACE,qBAAKH,MAAO,CAAEwB,SAAU,GAAId,WAAY,QAAxC,2BAGA,qBAAKV,MAAO,CAAEI,KAAM,KACpB,qBAAKJ,MAAO,CAAEW,YAAa,IAA3B,SAAkCoK,EAAQN,gBAC1C,uBACEkC,KAAK,QACLG,SAAU,gBAAaD,EAAb,EAAGE,OAAUF,MAAb,OACR7B,EAAW,2BACND,GADK,IAERN,cAAe9G,OAAOkJ,OAG1BS,IAAI,IACJC,IAAI,IACJC,KAAK,OACLxN,MAAO,CAAEsB,MAAO,KAChBuL,MAAO9B,EAAQN,mBAGnB,oBAAIzK,MAAO,CAAEG,aAAc,MAE3B,sBAAKH,MAAO,CAAEC,QAAS,OAAQE,aAAc,IAA7C,UACE,qBAAKH,MAAO,CAAEwB,SAAU,GAAId,WAAY,QAAxC,qCAGA,qBAAKV,MAAO,CAAEI,KAAM,KACpB,qBAAKJ,MAAO,CAAEW,YAAa,IAA3B,SACGoK,EAAQL,0BAEX,uBACEiC,KAAK,QACLG,SAAU,gBAAaD,EAAb,EAAGE,OAAUF,MAAb,OACR7B,EAAW,2BACND,GADK,IAERL,wBAAyB/G,OAAOkJ,OAGpCS,IAAI,IACJC,IAAI,IACJC,KAAK,OACLxN,MAAO,CAAEsB,MAAO,KAChBuL,MAAO9B,EAAQL,6BAGnB,oBAAI1K,MAAO,CAAEG,aAAc,MAE3B,sBAAKH,MAAO,CAAEC,QAAS,OAAQE,aAAc,IAA7C,UACE,qBAAKH,MAAO,CAAEwB,SAAU,GAAId,WAAY,QAAxC,6BAGA,qBAAKV,MAAO,CAAEI,KAAM,KACpB,qBAAKJ,MAAO,CAAEW,YAAa,IAA3B,SAAkCoK,EAAQJ,kBAC1C,uBACEgC,KAAK,QACLG,SAAU,gBAAaD,EAAb,EAAGE,OAAUF,MAAb,OACR7B,EAAW,2BACND,GADK,IAERJ,gBAAiBhH,OAAOkJ,OAG5BS,IAAI,IACJC,IAAI,IACJC,KAAK,OACLxN,MAAO,CAAEsB,MAAO,KAChBuL,MAAO9B,EAAQJ,qBAGnB,oBAAI3K,MAAO,CAAEG,aAAc,MAE3B,sBAAKH,MAAO,CAAEC,QAAS,OAAQE,aAAc,IAA7C,UACE,qBAAKH,MAAO,CAAEwB,SAAU,GAAId,WAAY,QAAxC,gCAGA,qBAAKV,MAAO,CAAEI,KAAM,KACpB,qBAAKJ,MAAO,CAAEW,YAAa,IAA3B,SACGoK,EAAQH,qBAEX,uBACE+B,KAAK,QACLG,SAAU,gBAAaD,EAAb,EAAGE,OAAUF,MAAb,OACR7B,EAAW,2BACND,GADK,IAERH,mBAAoBjH,OAAOkJ,OAG/BS,IAAI,IACJC,IAAI,IACJC,KAAK,OACLxN,MAAO,CAAEsB,MAAO,KAChBuL,MAAO9B,EAAQH,wBAGnB,oBAAI5K,MAAO,CAAEG,aAAc,MAE3B,sBAAKH,MAAO,CAAEC,QAAS,OAAQE,aAAc,IAA7C,UACE,qBAAKH,MAAO,CAAEwB,SAAU,GAAId,WAAY,QAAxC,4BAGA,qBAAKV,MAAO,CAAEI,KAAM,KACpB,qBAAKJ,MAAO,CAAEW,YAAa,IAA3B,SAAkCoK,EAAQF,iBAC1C,uBACE8B,KAAK,QACLG,SAAU,gBAAaD,EAAb,EAAGE,OAAUF,MAAb,OACR7B,EAAW,2BACND,GADK,IAERF,eAAgBlH,OAAOkJ,OAG3BS,IAAI,IACJC,IAAI,IACJC,KAAK,OACLxN,MAAO,CAAEsB,MAAO,KAChBuL,MAAO9B,EAAQF,4BAMvB,W,kDCneV,0DAQO,SAAS4C,EAAT,GAII,IAHT5M,EAGQ,EAHRA,MACAC,EAEQ,EAFRA,GAEQ,IADRC,oBACQ,MADO,kBAAM,yBACb,EACR,OACE,sBACEf,MAAO,CACLQ,gBAAiB,iBACjBF,QAAS,GACTC,aAAc,EACdN,QAAS,OACTC,WAAY,SACZC,aAAc,GACda,SAAU,WACVC,SAAU,UATd,UAaE,sBACEjB,MAAO,CACLsB,MAAO,GACPE,SAAU,GACVvB,QAAS,OACTU,YAAa,GACbD,WAAY,OACZe,eAAgB,UAPpB,UAUGX,EAVH,OAcA,qBACEd,MAAO,CACLI,KAAM,EACNH,QAAS,OACTC,WAAY,UAJhB,SAOE,gCACE,sBACEF,MAAO,CACLC,QAAS,OACTC,WAAY,WACZ+B,SAAU,OACV9B,aAAc,GALlB,UAQE,oBAAIH,MAAO,CAAEkC,OAAQ,EAAG5B,QAAS,EAAGK,YAAa,GAAjD,SACGE,EAAMsB,OAET,8BACGtB,EAAMuB,QAAQC,KAAI,SAACC,EAAGC,GAAJ,OACjB,iCACE,mBAAGb,KAAMY,EAAEV,cAAcC,QAAzB,SAAmCS,EAAEH,OACrC,sBAAMnC,MAAO,CAAEW,YAAa,GAA5B,SACG4B,IAAM1B,EAAMuB,QAAQI,OAAS,EAAI,IAAM,OAH5C,iBAAqBD,EAArB,kBAAgCzB,YAUtC,qBAAKd,MAAO,CAAE2C,UAAW,GAAzB,SAA+BC,YAAO/B,EAAMgC,oBAK/C9B,S,+JCrEQ,SAASqG,EAAT,GAAqD,IAAhC7C,EAA+B,EAA/BA,IAA+B,EACzCO,mBAAS,GADgC,mBAC1DhB,EAD0D,KACpD8C,EADoD,OAEnC9B,oBAAS,GAF0B,mBAE1D4I,EAF0D,KAEjDlE,EAFiD,OAGrC1E,mBAAuC,IAHF,mBAG1DgF,EAH0D,KAGlDC,EAHkD,OAI9BjF,mBAAoB,aAJU,mBAI1D6I,EAJ0D,KAI9CC,EAJ8C,OAKrC9I,oBAAS,GAL4B,mBAK1D+I,EAL0D,KAKlDC,EALkD,OAMvChJ,oBAAS,GAN8B,mBAM1DiJ,EAN0D,KAMnDC,EANmD,KAQ3DC,EAAO,uCAAG,WACdhK,EACAiK,EACAC,GAHc,eAAAtH,EAAA,6DAKd2C,GAAW,GALG,kBAOMjF,EAAI6J,eAAe,CACnCT,WAAYO,EACZ/C,MAnBM,GAoBNkD,OApBM,GAoBEpK,IAVE,QAONwB,EAPM,QAYHW,KAAKgF,MAAM5I,OACfuH,EAAU,GAAD,mBAAKoE,GAAL,YAAoB1I,EAAIW,KAAKgF,SADf0C,GAAU,GAZ1B,gDAeZjF,QAAQC,IAAR,MACAuC,EAAO1F,OAAO2F,MAAd,MAhBY,QAkBd9B,GAAW,GAlBG,yDAAH,0DA4BbnE,qBAAU,WACR4I,EAAQ,EAAGN,EAAY,MACtB,IAEH,IAAMW,EAAmB,SAACC,EAAe5B,GACvC,OACE,qBACE7M,QAAS,kBAbb8N,EADuBY,EAcY7B,GAZnC/F,EAAQ,GACRmD,EAAU,SACVkE,EAAQ,EAAGO,EAAG,IAJQ,IAACA,GAenBxO,MAAO,CACLK,OAAQ,UACRgE,WAAY,IAJhB,SAOE,sBAAMrE,MAAO,CAAEU,WAAYiN,IAAehB,EAAO,OAAS,UAA1D,SACG4B,OAMT,OACE,qCACE,sBAAKvO,MAAO,CAAEM,QAAS,IAAvB,UACE,sBACEN,MAAO,CACLC,QAAS,OACTC,WAAY,WACZC,aAAc,IAJlB,UAOE,oBAAIH,MAAO,CAAEkC,OAAQ,GAArB,wBACA,qBAAKlC,MAAO,CAAEI,KAAM,KACpB,sBAAKJ,MAAO,CAAEC,QAAS,QAAvB,UACGqO,EAAiB,UAAW,aAC5BA,EAAiB,gBAAiB,eAClCA,EAAiB,eAAgB,oBAItC,sBACEtO,MAAO,CACLC,QAAS,OACTC,WAAY,WACZC,aAAc,IAJlB,UAOE,qBAAKH,MAAO,CAAEI,KAAM,KACpB,sBACEJ,MAAO,CACLC,QAAS,OACTI,OAAQ,UACRH,WAAY,SACZI,QAAS,WACTC,aAAc,QACdC,gBAAiB,iBACjBC,MAAO,kBAETX,QAAS,kBAAMkO,GAAS,IAV1B,UAYE,sBACEhO,MAAO,CAAEU,WAAY,OAAQP,aAAc,EAAGQ,YAAa,GAD7D,6BAKA,cAAC,MAAD,CAAKX,MAAO,CAAES,MAAO,iBAAkBa,MAAO,GAAIJ,OAAQ,YAI7D4I,EAAOzH,KAAI,SAACC,EAAGC,GAAJ,OACV,cAAC,IAAD,CAAqB1B,MAAOyB,EAAGxB,GAAIyB,EAAI,GAArBA,MAEnBsL,EAAS,KACR,sBACE7N,MAAO,CACLyO,UAAW,SACXpO,OAAQ,UACRsC,UAAW,IAEb7C,QAAS,WACP8G,EAAQ9C,EAAO,GACfmK,EAAQnK,EAAO,EAAG6J,EAAY7D,IARlC,UAWE,qBAAK9J,MAAO,CAAEG,aAAc,IAA5B,SACGuN,EAAU,aAAe,aAE3BA,EAAU,KACT,cAAC,cAAD,CAAaxM,OAAO,OAAOI,MAAM,OAAOb,MAAM,gBAKpDsN,EACA,cAAC,IAAD,CACExJ,IAAKA,EACLuF,OAAQA,EACR4E,SAAQ,qCACS,cAAff,EACI,OACe,gBAAfA,EACA,WACA,SAEN3E,QAAS,kBAAMgF,GAAS,MAXlB,W,yJCpIT,SAASW,EAAT,GAUH,IATFpK,EASC,EATDA,IACAuF,EAQC,EARDA,OACA4E,EAOC,EAPDA,SACA1F,EAMC,EANDA,QAMC,EAC6BlE,oBAAS,GADtC,mBACM4I,EADN,KACelE,EADf,OAEuB1E,mBAAS4J,GAFhC,mBAEMvM,EAFN,KAEYyM,EAFZ,OAGyB9J,oBAAS,GAHlC,mBAGM+J,EAHN,KAGaC,EAHb,KAKK7C,EAAM,uCAAG,4BAAApF,EAAA,6DACb2C,GAAW,GADE,kBAGOjF,EAAI4H,eAAehK,EAAM,CACzCiK,YAAa,mCAJJ,cAGL3G,EAHK,gBAMLlB,EAAI8H,oBACR5G,EAAIW,KAAKW,GACT+C,EAAOzH,KAAI,SAAAC,GAAC,OAAIA,EAAEgK,QART,OAUXtD,IAVW,kDAYXqC,EAAO1F,OAAO2F,MAAd,MAZW,QAcb9B,GAAW,GAdE,0DAAH,qDAuGZ,OACE,qBACExJ,MAAO,CACLgB,SAAU,QACVkI,IAAK,EACL9H,KAAM,EACNC,MAAO,EACPF,OAAQ,EACRgI,OAAQ,IACR7H,MAAO,qBACPJ,OAAQ,qBACRV,gBAAiB,kBACjBF,QAAS,GACT8I,UAAW,QAZf,SAeE,qBACEpJ,MAAO,CACLmH,SAAU,IACVjF,OAAQ,SACRjC,QAAS,OACToJ,cAAe,SACfnI,OAAQ,QANZ,SASGwM,EAAU,4CA7Gb,qCACE,sBAAK1N,MAAO,CAAEC,QAAS,QAAvB,UACE,qBAAKD,MAAO,CAAEI,KAAM,KACpB,cAAC,aAAD,CACEK,MAAM,QACNa,MAAM,OACNJ,OAAO,OACPpB,QAASkJ,OAGb,sBACEhJ,MAAO,CACLI,KAAM,EACNH,QAAS,OACTC,WAAY,SACZuB,eAAgB,SAChB4H,cAAe,SACflF,cAAe,IAPnB,UAUE,oDACA,uBACEwI,KAAK,OACLC,YAAY,eACZC,MAAO1K,EACP2K,SAAU,gBAAaD,EAAb,EAAGE,OAAUF,MAAb,OAA2B+B,EAAQ/B,IAC7C7M,MAAO,CACLsB,MAAO,OACPE,SAAU,GACVwL,OAAQ,OACRvM,MAAO,QACPwM,QAAS,OACTC,WAAY,OACZxM,WAAY,OACZJ,QAAS,WACT6M,aAAc,qBAGlB,qBACEnN,MAAO,CACLK,OAAQ,UACRsC,UAAW,GACXrB,MAAO,OACPmN,UAAW,SACXnO,QAAS,GACTC,aAAc,QACdC,gBAAiB,kBARrB,SAWE,sBAAMR,MAAO,CAAEwB,SAAU,GAAId,WAAY,QAAUZ,QAASmM,EAA5D,+BAIF,oDACA,gCACE,sBAAKjM,MAAO,CAAEwB,SAAU,GAAId,WAAY,QAAxC,UACGoJ,EAAOtH,OADV,aAGA,qBACExC,MAAO,CAAEK,OAAQ,UAAWoO,UAAW,UACvC3O,QAAS,kBAAMgP,GAAUD,IAF3B,SAIGA,EAAQ,OAAS,gBAGrBA,EACC,qBAAK7O,MAAO,CAAE+O,UAAW,IAAKpM,UAAW,GAAIrB,MAAO,QAApD,SACGwI,EAAOzH,KAAI,SAACC,EAAGC,GAAJ,OACV,gCACE,6BAAKD,EAAEH,OACP,8BAAMG,EAAEF,QAAQC,KAAI,SAAAC,GAAC,OAAIA,EAAEH,QAAMoF,KAAK,QACrChF,IAAMuH,EAAOtH,OAAS,EACrB,oBAAIxC,MAAO,CAAE2C,UAAW,MAExB,qBAAK3C,MAAO,CAAEG,aAAc,QANtBoC,QAWZ,kB","file":"static/js/main.8f9438f2.chunk.js","sourcesContent":["export function Button({\n  text,\n  onClick,\n  renderIcon,\n}: {\n  text: string;\n  onClick: () => void;\n  renderIcon?: () => JSX.Element;\n}) {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        alignItems: \"baseline\",\n        marginBottom: 16,\n      }}\n    >\n      <div style={{ flex: 1 }} />\n      <div\n        style={{\n          display: \"flex\",\n          cursor: \"pointer\",\n          alignItems: \"center\",\n          padding: \"8px 16px\",\n          borderRadius: \"100vw\",\n          backgroundColor: \"var(--color-8)\",\n          color: \"var(--color-1)\",\n        }}\n        onClick={onClick}\n      >\n        <span style={{ fontWeight: \"bold\", marginBottom: 2, marginRight: 8 }}>\n          {text}\n        </span>\n        {!!renderIcon && renderIcon()}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { albumDate, fromMs } from \"../utils/formatTime\";\n\ninterface Props {\n  track: SpotifyApi.TrackObjectFull;\n  no: number;\n  renderButton?: () => JSX.Element;\n}\nexport function RenderTrack({\n  track,\n  no,\n  renderButton = () => <div></div>,\n}: Props) {\n  return (\n    <div\n      style={{\n        backgroundColor: \"var(--color-2)\",\n        padding: 16,\n        borderRadius: 8,\n        display: \"flex\",\n        alignItems: \"center\",\n        marginBottom: 16,\n        position: \"relative\",\n        overflow: \"hidden\",\n      }}\n    >\n      {/*  Popularity */}\n      <div\n        style={{\n          height: 4,\n          position: \"absolute\",\n          bottom: 0,\n          left: 0,\n          right: 0,\n          width: track.popularity + \"%\",\n          backgroundColor: \"var(--color-6)\",\n        }}\n      ></div>\n\n      {/* Track number */}\n      <div\n        style={{\n          width: 50,\n          fontSize: 20,\n          display: \"flex\",\n          marginRight: 16,\n          fontWeight: \"bold\",\n          justifyContent: \"center\",\n        }}\n      >\n        {no}.\n      </div>\n\n      {/* Track info */}\n      <div\n        style={{\n          flex: 1,\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n      >\n        <a href={track.album.external_urls.spotify}>\n          <img\n            width=\"100px\"\n            height=\"100px\"\n            src={track.album.images[0].url}\n            style={{ marginRight: 16 }}\n          />\n        </a>\n        <div>\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"baseline\",\n              flexWrap: \"wrap\",\n              marginBottom: 4,\n            }}\n          >\n            <h2 style={{ margin: 0, padding: 0, marginRight: 8 }}>\n              {track.name}\n            </h2>\n            <div>\n              {track.artists.map((x, i) => (\n                <span key={`artist_${i}_track_${no}`}>\n                  <a href={x.external_urls.spotify}>{x.name}</a>\n                  <span style={{ marginRight: 4 }}>\n                    {i !== track.artists.length - 1 ? \",\" : \"\"}\n                  </span>\n                </span>\n              ))}\n            </div>\n          </div>\n\n          <a\n            href={track.album.external_urls.spotify}\n            style={{ fontWeight: \"bold\" }}\n          >\n            {track.album.name} ({albumDate(track.album.release_date)})\n          </a>\n\n          <div style={{ marginTop: 4 }}>{fromMs(track.duration_ms)}</div>\n        </div>\n      </div>\n\n      {/* Link buton */}\n      {renderButton()}\n    </div>\n  );\n}\n","export const fromMs = (ms: number) => {\n  const mm = Math.floor((ms / 1000 / 60) % 60)\n    .toString()\n    .padStart(2, \"0\");\n  const ss = Math.floor((ms / 1000) % 60)\n    .toString()\n    .padStart(2, \"0\");\n  return `${mm}:${ss}`;\n};\n\nconst mos = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\nexport const albumDate = (date: string) => {\n  const parts = date.split(\"-\");\n  const yr = parts[0];\n  const mo = mos[Number(parts[1]) - 1];\n  return `${mo} ${yr}`;\n};\n","import React from \"react\";\nimport { Me } from \"../interfaces/Me\";\nimport { Page } from \"../interfaces/Page\";\n\nexport default function Header({\n  me,\n  page,\n  changePage,\n}: {\n  me: Me;\n  page: Page;\n  changePage: (p: Page) => void;\n}) {\n  const _renderLink = (text: string, p: Page) => {\n    return (\n      <div\n        style={{ marginRight: 16, cursor: \"pointer\" }}\n        onClick={() => changePage(p)}\n      >\n        <span\n          style={{ fontWeight: page === p ? \"bold\" : \"normal\", fontSize: 20 }}\n        >\n          {text}\n        </span>\n      </div>\n    );\n  };\n\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        display: \"flex\",\n        marginBottom: 16,\n        paddingTop: 16,\n        paddingBottom: 16,\n      }}\n    >\n      {_renderLink(\"Top tracks\", \"top_tracks\")}\n      {_renderLink(\"Custom playlist\", \"custom_playlist\")}\n      <div style={{ flex: 1 }} />\n      <div\n        style={{\n          padding: \"8px 16px\",\n          display: \"flex\",\n          alignItems: \"center\",\n          borderRadius: \"100vw\",\n          justifyContent: \"center\",\n          backgroundColor: \"var(--color-2)\",\n        }}\n      >\n        <img\n          width=\"32px\"\n          height=\"32px\"\n          src={me.image}\n          style={{ borderRadius: 16 }}\n        />\n        <div style={{ marginLeft: 16, fontSize: 14 }}>\n          <div style={{ fontWeight: \"bold\" }}>{me.name}</div>\n          <div>{me.followers} followers</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-node\";\nimport { CustomPlaylist } from \"./components/CustomPlaylist\";\nimport Header from \"./components/Header\";\nimport TopTracks from \"./components/TopTracks\";\nimport { Me } from \"./interfaces/Me\";\nimport { Page } from \"./interfaces/Page\";\nimport useAuth from \"./useAuth\";\n\nconst api = new SpotifyWebApi({\n  clientId: \"8b945ef10ea24755b83ac50cede405a0\",\n  clientSecret: \"524fc97a2763460598a3420b7253ee81\",\n  redirectUri: \"http://localhost:3000\",\n});\n\nexport default function Dash({ code }: { code: string }) {\n  const { accessToken, refreshToken } = useAuth(code);\n  const [me, setMe] = useState<Me | null>(null);\n  const [page, setPage] = useState<Page>(\"top_tracks\");\n\n  const _renderBody = () => {\n    if (page === \"top_tracks\") return <TopTracks api={api} />;\n    else if (page === \"custom_playlist\") return <CustomPlaylist api={api} />;\n    else return null;\n  };\n\n  useEffect(() => {\n    if (!accessToken) return;\n    api.setAccessToken(accessToken);\n    api.setRefreshToken(refreshToken);\n    (async () => {\n      const res = await api.getMe();\n      setMe({\n        id: res.body.id,\n        name: res.body.display_name || \"no name\",\n        image: !res.body.images?.length ? \"\" : res.body.images[0].url,\n        followers: res.body.followers?.total || 0,\n      });\n    })();\n  }, [accessToken]);\n\n  if (!api.getAccessToken()) return null;\n  return (\n    <div style={{ maxWidth: 960, margin: \"0 auto\" }}>\n      {!me ? null : <Header me={me} page={page} changePage={p => setPage(p)} />}\n      {_renderBody()}\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function useAuth(code: string) {\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [refreshToken, setRefreshToken] = useState(\"\");\n  const [expiresIn, setExpiresIn] = useState(60);\n\n  useEffect(() => {\n    axios\n      .post(\"http://localhost:3001/login\", { code })\n      .then((res: any) => {\n        setAccessToken(res.data.accessToken);\n        setRefreshToken(res.data.refreshToken);\n        setExpiresIn(res.data.expiresIn);\n        // @ts-ignore\n        window.history.pushState({}, null, \"/\");\n      })\n      .catch(() => {\n        // @ts-ignore\n        window.location = \"/\";\n      });\n  }, [code]);\n\n  useEffect(() => {\n    if (!refreshToken || !expiresIn) return;\n    const interval = setInterval(() => {\n      fetch(\"http://localhost:3001/refresh\", {\n        method: \"POST\",\n        body: JSON.stringify({ refreshToken }),\n        headers: { ContentType: \"application/json\" },\n      })\n        .then((res: any) => {\n          setAccessToken(res.data.accessToken);\n          setExpiresIn(res.data.expiresIn);\n        })\n        .catch(() => {});\n    }, (expiresIn - 60) * 1000);\n\n    return () => clearInterval(interval);\n  }, [refreshToken, expiresIn]);\n\n  return { accessToken, refreshToken };\n}\n","export default __webpack_public_path__ + \"static/media/logo.7000afed.png\";","import logo from \"./logo.png\";\n\n// url stuff\nconst redirectUri = \"http://localhost:3000\";\nconst clientId = \"6c68970138484af086dba84c7c147503\";\nconst scopes = [\n  \"streaming\",\n  \"user-top-read\",\n  \"user-read-email\",\n  \"user-read-private\",\n  \"user-library-read\",\n  \"user-library-modify\",\n  \"user-read-playback-state\",\n  \"user-modify-playback-state\",\n  \"user-read-recently-played\",\n  \"playlist-modify-public\",\n  \"playlist-modify-private\",\n  \"playlist-read-private\",\n  \"user-library-modify\",\n].join(\"%20\");\nconst base = \"https://accounts.spotify.com/authorize\";\n\n// auth url\nconst AUTH_URL = `${base}?client_id=${clientId}&response_type=code&redirect_uri=${redirectUri}&scope=${scopes}`;\n\nexport default function Login() {\n  return (\n    <div\n      style={{\n        width: \"100vw\",\n        height: \"100vh\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <div\n        style={{\n          padding: 16,\n          borderRadius: 4,\n          cursor: \"pointer\",\n          backgroundColor: \"var(--color-2)\",\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n        onClick={() => {\n          window.location.assign(AUTH_URL);\n        }}\n      >\n        <span style={{ marginRight: 16, fontWeight: \"bold\" }}>\n          Login with Spotify\n        </span>\n        <img src={logo} width=\"36px\" height=\"36px\" />\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport \"./App.css\";\nimport Dash from \"./Dash\";\nimport Login from \"./Login\";\n\nfunction App() {\n  const code = new URLSearchParams(window.location.search).get(\"code\");\n\n  return code ? <Dash {...{ code }} /> : <Login />;\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals(console.log);\n","import React from \"react\";\nimport { CloseSharp } from \"react-ionicons\";\n\nexport const Modal: React.FC<{ onClose: () => void }> = ({\n  onClose,\n  children,\n}) => {\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        zIndex: 100,\n        width: \"calc(100vw - 32px)\",\n        height: \"calc(100vh - 32px)\",\n        backgroundColor: \"rgba(0,0,0,0.8)\",\n        padding: 16,\n        overflowY: \"auto\",\n      }}\n    >\n      <div\n        style={{\n          maxWidth: 960,\n          margin: \"0 auto\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          height: \"100%\",\n        }}\n      >\n        <div style={{ display: \"flex\" }}>\n          <div style={{ flex: 1 }} />\n          <CloseSharp\n            color=\"white\"\n            width=\"48px\"\n            height=\"48px\"\n            style={{ cursor: \"pointer\" }}\n            onClick={onClose}\n          />\n        </div>\n        <div\n          style={{\n            flex: 1,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            flexDirection: \"column\",\n            paddingBottom: 64,\n          }}\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n","export function TextButton({\n  text,\n  selected,\n  onClick,\n}: {\n  text: string;\n  selected?: boolean;\n  onClick?: () => void;\n}) {\n  return (\n    <div style={{ marginRight: 16, cursor: \"pointer\" }} onClick={onClick}>\n      <span style={{ fontWeight: selected ? \"bold\" : \"normal\", fontSize: 20 }}>\n        {text}\n      </span>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-node\";\nimport { Button } from \"./Button\";\nimport {\n  Add,\n  MusicalNotesOutline,\n  Options,\n  Remove,\n  Search,\n  SettingsOutline,\n} from \"react-ionicons\";\nimport { RenderTrack } from \"./RenderTrack\";\nimport { Modal } from \"./Modal\";\nimport { TextButton } from \"./TextButton\";\nimport { RenderTrackSimple } from \"./RenderTrackSimple\";\n\ninterface Options {\n  target_acousticness: number;\n  target_danceability: number;\n  target_energy: number;\n  target_instrumentalness: number;\n  target_liveness: number;\n  target_speechiness: number;\n  target_valence: number;\n  target_tempo: number;\n}\nexport function CustomPlaylist({ api }: { api: SpotifyWebApi }) {\n  const [loading, setLoading] = useState(false);\n  const [searching, setSearching] = useState(false);\n  const [openSettings, setOpenSettings] = useState(false);\n  const [openSeed, setOpenSeed] = useState(false);\n  const [tracks, setTracks] = useState<SpotifyApi.TrackObjectSimplified[]>([]);\n  const [search, setSearch] = useState(\"\");\n  const [results, setResults] = useState<SpotifyApi.TrackObjectFull[]>([]);\n  const [seedTracks, setSeedTracks] = useState<SpotifyApi.TrackObjectFull[]>(\n    [],\n  );\n  const [isSearch, setIsSearch] = useState(false);\n  const [options, setOptions] = useState<Options>({\n    target_acousticness: 0.1,\n    target_danceability: 0.1,\n    target_energy: 0.3,\n    target_instrumentalness: 0.75,\n    target_liveness: 0.55,\n    target_speechiness: 0.1,\n    target_valence: 0.2,\n    target_tempo: 140,\n  });\n\n  const doSearch = async () => {\n    setSearching(true);\n    try {\n      console.log(\"search fn\");\n      const res = await api.searchTracks(search, { limit: 10 });\n      setResults(res.body.tracks?.items || []);\n    } catch (error) {\n      global.window.alert(error);\n    }\n    setSearching(false);\n  };\n\n  const getTracks = async () => {\n    setLoading(true);\n    try {\n      const ids = seedTracks.flatMap(x => x.artists.map(x => x.id));\n      const artistsRes = await api.getArtists(ids);\n      const seed_genres = artistsRes.body.artists.flatMap(x => x.genres);\n      const res = await api.getRecommendations({\n        limit: 100,\n        seed_genres,\n        seed_artists: ids,\n        seed_tracks: seedTracks.map(x => x.id),\n        ...options,\n      });\n      setTracks(res.body.tracks);\n    } catch (error) {\n      global.window.alert(error);\n    }\n    setLoading(false);\n  };\n\n  const _renderSearch = () => {\n    return (\n      <div>\n        <div style={{ display: \"flex\", marginBottom: 16 }}>\n          <form\n            onSubmit={e => {\n              e.preventDefault();\n              doSearch();\n            }}\n            style={{ flex: 1, marginRight: 32 }}\n          >\n            <input\n              type=\"text\"\n              placeholder=\"Search songs...\"\n              value={search}\n              onChange={({ target: { value } }) => setSearch(value)}\n              style={{\n                padding: 8,\n                width: \"100%\",\n                fontSize: 20,\n                border: \"none\",\n                color: \"white\",\n                outline: \"none\",\n                background: \"none\",\n                fontWeight: \"bold\",\n                borderBottom: \"4px solid white\",\n              }}\n            />\n          </form>\n          <Button\n            text=\"Go\"\n            onClick={doSearch}\n            renderIcon={() => (\n              <Search width=\"24px\" height=\"24px\" color=\"black\" />\n            )}\n          />\n        </div>\n        <div>\n          {results.map((t, i) => (\n            <RenderTrack\n              key={i}\n              track={t}\n              no={i + 1}\n              renderButton={() => {\n                if (seedTracks.some(x => x.id === t.id))\n                  return (\n                    <Remove\n                      width=\"32px\"\n                      height=\"32px\"\n                      color=\"white\"\n                      style={{ cursor: \"pointer\" }}\n                      onClick={() =>\n                        setSeedTracks(seedTracks.filter(x => x.id !== t.id))\n                      }\n                    />\n                  );\n                return (\n                  <Add\n                    width=\"32px\"\n                    height=\"32px\"\n                    color=\"white\"\n                    style={{ cursor: \"pointer\" }}\n                    onClick={() => setSeedTracks([...seedTracks, t])}\n                  />\n                );\n              }}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  const _renderSeed = () => {\n    if (!seedTracks.length)\n      return (\n        <div>No seed tracks selected yet, add some by searching for them</div>\n      );\n    return (\n      <div>\n        {seedTracks.map((t, i) => (\n          <RenderTrack\n            key={i}\n            track={t}\n            no={i + 1}\n            renderButton={() => {\n              return (\n                <Remove\n                  width=\"24px\"\n                  height=\"24px\"\n                  color=\"white\"\n                  style={{ cursor: \"pointer\" }}\n                  onClick={() =>\n                    setSeedTracks(seedTracks.filter(x => x.id !== t.id))\n                  }\n                />\n              );\n            }}\n          />\n        ))}\n      </div>\n    );\n  };\n\n  const create = async () => {\n    const name = global.window.prompt(\"Playlist name\");\n    if (!name) return;\n\n    setLoading(true);\n    try {\n      const res = await api.createPlaylist(name, {\n        description: \"Playlist created by Asen's app\",\n      });\n      await api.addTracksToPlaylist(\n        res.body.id,\n        tracks.map(x => x.uri),\n      );\n    } catch (error) {\n      global.window.alert(error);\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div>\n      <h1>Custom Playlist</h1>\n      <div style={{ display: \"flex\", marginBottom: 16 }}>\n        <div style={{ flex: 1 }} />\n        <Button\n          text=\"Seed\"\n          renderIcon={() => (\n            <SettingsOutline width=\"24px\" height=\"24px\" color=\"black\" />\n          )}\n          onClick={() => setOpenSeed(true)}\n        />\n        <div style={{ marginRight: 16 }} />\n        <Button\n          text=\"Settings\"\n          renderIcon={() => (\n            <Options width=\"24px\" height=\"24px\" color=\"black\" />\n          )}\n          onClick={() => setOpenSettings(true)}\n        />\n        <div style={{ marginRight: 16 }} />\n        <Button\n          text=\"Get Tracks\"\n          renderIcon={() => (\n            <MusicalNotesOutline width=\"24px\" height=\"24px\" color=\"black\" />\n          )}\n          onClick={() => getTracks()}\n        />\n        <div style={{ marginRight: 16 }} />\n        <Button text=\"Make into playlist\" onClick={create} />\n      </div>\n      <div>\n        {!tracks.length ? (\n          \"Tracks will appear here\"\n        ) : (\n          <div>\n            {tracks.map((t, i) => (\n              <RenderTrackSimple key={i} track={t} no={i + 1} />\n            ))}\n          </div>\n        )}\n      </div>\n\n      {openSeed ? (\n        <Modal onClose={() => setOpenSeed(false)}>\n          <div\n            style={{\n              padding: 16,\n              width: \"100%\",\n              height: \"100%\",\n              borderRadius: 16,\n              overflowY: \"auto\",\n              backgroundColor: \"var(--color-2)\",\n            }}\n          >\n            <h1 style={{ margin: 0, marginBottom: 16 }}>Playlist seed</h1>\n            <div style={{ display: \"flex\", marginBottom: 16 }}>\n              <TextButton\n                text=\"Seed tracks\"\n                selected={!isSearch}\n                onClick={() => setIsSearch(false)}\n              />\n              <div style={{ marginRight: 16 }} />\n              <TextButton\n                text=\"Search tracks\"\n                selected={isSearch}\n                onClick={() => setIsSearch(true)}\n              />\n            </div>\n\n            {isSearch ? _renderSearch() : _renderSeed()}\n          </div>\n        </Modal>\n      ) : null}\n\n      {openSettings ? (\n        <Modal onClose={() => setOpenSettings(false)}>\n          <div\n            style={{\n              padding: 16,\n              width: \"100%\",\n              height: \"100%\",\n              borderRadius: 16,\n              overflowY: \"auto\",\n              backgroundColor: \"var(--color-2)\",\n            }}\n          >\n            <h1 style={{ margin: 0, marginBottom: 32 }}>Playlist settings</h1>\n            <form onSubmit={e => e.preventDefault()}>\n              <div style={{ display: \"flex\", marginBottom: 16 }}>\n                <div style={{ fontSize: 18, fontWeight: \"bold\" }}>\n                  Target Tempo\n                </div>\n                <div style={{ flex: 1 }} />\n                <div style={{ marginRight: 16 }}>{options.target_tempo}</div>\n                <input\n                  type=\"range\"\n                  onChange={({ target: { value } }) =>\n                    setOptions({ ...options, target_tempo: Number(value) })\n                  }\n                  min=\"80\"\n                  max=\"240\"\n                  step=\"1\"\n                  style={{ width: 200 }}\n                  value={options.target_tempo}\n                />\n              </div>\n              <hr style={{ marginBottom: 16 }} />\n\n              <div style={{ display: \"flex\", marginBottom: 16 }}>\n                <div style={{ fontSize: 18, fontWeight: \"bold\" }}>\n                  Target Acousticness\n                </div>\n                <div style={{ flex: 1 }} />\n                <div style={{ marginRight: 16 }}>\n                  {options.target_acousticness}\n                </div>\n                <input\n                  type=\"range\"\n                  onChange={({ target: { value } }) =>\n                    setOptions({\n                      ...options,\n                      target_acousticness: Number(value),\n                    })\n                  }\n                  min=\"0\"\n                  max=\"1\"\n                  step=\"0.05\"\n                  style={{ width: 200 }}\n                  value={options.target_acousticness}\n                />\n              </div>\n              <hr style={{ marginBottom: 16 }} />\n\n              <div style={{ display: \"flex\", marginBottom: 16 }}>\n                <div style={{ fontSize: 18, fontWeight: \"bold\" }}>\n                  Target Danceability\n                </div>\n                <div style={{ flex: 1 }} />\n                <div style={{ marginRight: 16 }}>\n                  {options.target_danceability}\n                </div>\n                <input\n                  type=\"range\"\n                  onChange={({ target: { value } }) =>\n                    setOptions({\n                      ...options,\n                      target_danceability: Number(value),\n                    })\n                  }\n                  min=\"0\"\n                  max=\"1\"\n                  step=\"0.05\"\n                  style={{ width: 200 }}\n                  value={options.target_danceability}\n                />\n              </div>\n              <hr style={{ marginBottom: 16 }} />\n\n              <div style={{ display: \"flex\", marginBottom: 16 }}>\n                <div style={{ fontSize: 18, fontWeight: \"bold\" }}>\n                  Target Energy\n                </div>\n                <div style={{ flex: 1 }} />\n                <div style={{ marginRight: 16 }}>{options.target_energy}</div>\n                <input\n                  type=\"range\"\n                  onChange={({ target: { value } }) =>\n                    setOptions({\n                      ...options,\n                      target_energy: Number(value),\n                    })\n                  }\n                  min=\"0\"\n                  max=\"1\"\n                  step=\"0.05\"\n                  style={{ width: 200 }}\n                  value={options.target_energy}\n                />\n              </div>\n              <hr style={{ marginBottom: 16 }} />\n\n              <div style={{ display: \"flex\", marginBottom: 16 }}>\n                <div style={{ fontSize: 18, fontWeight: \"bold\" }}>\n                  Target Instrumentalness\n                </div>\n                <div style={{ flex: 1 }} />\n                <div style={{ marginRight: 16 }}>\n                  {options.target_instrumentalness}\n                </div>\n                <input\n                  type=\"range\"\n                  onChange={({ target: { value } }) =>\n                    setOptions({\n                      ...options,\n                      target_instrumentalness: Number(value),\n                    })\n                  }\n                  min=\"0\"\n                  max=\"1\"\n                  step=\"0.05\"\n                  style={{ width: 200 }}\n                  value={options.target_instrumentalness}\n                />\n              </div>\n              <hr style={{ marginBottom: 16 }} />\n\n              <div style={{ display: \"flex\", marginBottom: 16 }}>\n                <div style={{ fontSize: 18, fontWeight: \"bold\" }}>\n                  Target Liveness\n                </div>\n                <div style={{ flex: 1 }} />\n                <div style={{ marginRight: 16 }}>{options.target_liveness}</div>\n                <input\n                  type=\"range\"\n                  onChange={({ target: { value } }) =>\n                    setOptions({\n                      ...options,\n                      target_liveness: Number(value),\n                    })\n                  }\n                  min=\"0\"\n                  max=\"1\"\n                  step=\"0.05\"\n                  style={{ width: 200 }}\n                  value={options.target_liveness}\n                />\n              </div>\n              <hr style={{ marginBottom: 16 }} />\n\n              <div style={{ display: \"flex\", marginBottom: 16 }}>\n                <div style={{ fontSize: 18, fontWeight: \"bold\" }}>\n                  Target Speechiness\n                </div>\n                <div style={{ flex: 1 }} />\n                <div style={{ marginRight: 16 }}>\n                  {options.target_speechiness}\n                </div>\n                <input\n                  type=\"range\"\n                  onChange={({ target: { value } }) =>\n                    setOptions({\n                      ...options,\n                      target_speechiness: Number(value),\n                    })\n                  }\n                  min=\"0\"\n                  max=\"1\"\n                  step=\"0.05\"\n                  style={{ width: 200 }}\n                  value={options.target_speechiness}\n                />\n              </div>\n              <hr style={{ marginBottom: 16 }} />\n\n              <div style={{ display: \"flex\", marginBottom: 16 }}>\n                <div style={{ fontSize: 18, fontWeight: \"bold\" }}>\n                  Target Valence\n                </div>\n                <div style={{ flex: 1 }} />\n                <div style={{ marginRight: 16 }}>{options.target_valence}</div>\n                <input\n                  type=\"range\"\n                  onChange={({ target: { value } }) =>\n                    setOptions({\n                      ...options,\n                      target_valence: Number(value),\n                    })\n                  }\n                  min=\"0\"\n                  max=\"1\"\n                  step=\"0.05\"\n                  style={{ width: 200 }}\n                  value={options.target_valence}\n                />\n              </div>\n            </form>\n          </div>\n        </Modal>\n      ) : null}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { albumDate, fromMs } from \"../utils/formatTime\";\n\ninterface Props {\n  track: SpotifyApi.TrackObjectSimplified;\n  no: number;\n  renderButton?: () => JSX.Element;\n}\nexport function RenderTrackSimple({\n  track,\n  no,\n  renderButton = () => <div></div>,\n}: Props) {\n  return (\n    <div\n      style={{\n        backgroundColor: \"var(--color-2)\",\n        padding: 16,\n        borderRadius: 8,\n        display: \"flex\",\n        alignItems: \"center\",\n        marginBottom: 16,\n        position: \"relative\",\n        overflow: \"hidden\",\n      }}\n    >\n      {/* Track number */}\n      <div\n        style={{\n          width: 50,\n          fontSize: 20,\n          display: \"flex\",\n          marginRight: 16,\n          fontWeight: \"bold\",\n          justifyContent: \"center\",\n        }}\n      >\n        {no}.\n      </div>\n\n      {/* Track info */}\n      <div\n        style={{\n          flex: 1,\n          display: \"flex\",\n          alignItems: \"center\",\n        }}\n      >\n        <div>\n          <div\n            style={{\n              display: \"flex\",\n              alignItems: \"baseline\",\n              flexWrap: \"wrap\",\n              marginBottom: 4,\n            }}\n          >\n            <h2 style={{ margin: 0, padding: 0, marginRight: 8 }}>\n              {track.name}\n            </h2>\n            <div>\n              {track.artists.map((x, i) => (\n                <span key={`artist_${i}_track_${no}`}>\n                  <a href={x.external_urls.spotify}>{x.name}</a>\n                  <span style={{ marginRight: 4 }}>\n                    {i !== track.artists.length - 1 ? \",\" : \"\"}\n                  </span>\n                </span>\n              ))}\n            </div>\n          </div>\n\n          <div style={{ marginTop: 4 }}>{fromMs(track.duration_ms)}</div>\n        </div>\n      </div>\n\n      {/* Link buton */}\n      {renderButton()}\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport SpotifyWebApi from \"spotify-web-api-node\";\nimport { RenderTrack } from \"./RenderTrack\";\nimport { ChevronDown, Add } from \"react-ionicons\";\nimport { CreatePlaylist } from \"./CreatePlaylist\";\n\nconst limit = 50;\ntype TimeRange = \"long_term\" | \"medium_term\" | \"short_term\";\nexport default function TopTracks({ api }: { api: SpotifyWebApi }) {\n  const [page, setPage] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [tracks, setTracks] = useState<SpotifyApi.TrackObjectFull[]>([]);\n  const [time_range, setTimeRange] = useState<TimeRange>(\"long_term\");\n  const [noMore, setNoMore] = useState(false);\n  const [modal, setModal] = useState(false);\n\n  const getNext = async (\n    p: number,\n    tr: TimeRange,\n    prevTracks: SpotifyApi.TrackObjectFull[],\n  ) => {\n    setLoading(true);\n    try {\n      const res = await api.getMyTopTracks({\n        time_range: tr,\n        limit,\n        offset: p * limit,\n      });\n      if (!res.body.items.length) setNoMore(true);\n      else setTracks([...prevTracks, ...res.body.items]);\n    } catch (error) {\n      console.log(error);\n      global.window.alert(error);\n    }\n    setLoading(false);\n  };\n\n  const changeTimeRange = (s: TimeRange) => {\n    setTimeRange(s);\n    setPage(0);\n    setTracks([]);\n    getNext(0, s, []);\n  };\n\n  useEffect(() => {\n    getNext(0, time_range, []);\n  }, []);\n\n  const _renderTimeRange = (title: string, type: TimeRange) => {\n    return (\n      <div\n        onClick={() => changeTimeRange(type)}\n        style={{\n          cursor: \"pointer\",\n          marginLeft: 16,\n        }}\n      >\n        <span style={{ fontWeight: time_range === type ? \"bold\" : \"normal\" }}>\n          {title}\n        </span>\n      </div>\n    );\n  };\n\n  return (\n    <>\n      <div style={{ padding: 16 }}>\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"baseline\",\n            marginBottom: 16,\n          }}\n        >\n          <h1 style={{ margin: 0 }}>Top Tracks</h1>\n          <div style={{ flex: 1 }} />\n          <div style={{ display: \"flex\" }}>\n            {_renderTimeRange(\"1+ Year\", \"long_term\")}\n            {_renderTimeRange(\"Last 6 months\", \"medium_term\")}\n            {_renderTimeRange(\"Last 4 weeks\", \"short_term\")}\n          </div>\n        </div>\n\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"baseline\",\n            marginBottom: 16,\n          }}\n        >\n          <div style={{ flex: 1 }} />\n          <div\n            style={{\n              display: \"flex\",\n              cursor: \"pointer\",\n              alignItems: \"center\",\n              padding: \"8px 16px\",\n              borderRadius: \"100vw\",\n              backgroundColor: \"var(--color-8)\",\n              color: \"var(--color-1)\",\n            }}\n            onClick={() => setModal(true)}\n          >\n            <span\n              style={{ fontWeight: \"bold\", marginBottom: 2, marginRight: 8 }}\n            >\n              Create Playlist\n            </span>\n            <Add style={{ color: \"var(--color-1)\", width: 24, height: 24 }} />\n          </div>\n        </div>\n\n        {tracks.map((x, i) => (\n          <RenderTrack key={i} track={x} no={i + 1} />\n        ))}\n        {noMore ? null : (\n          <div\n            style={{\n              textAlign: \"center\",\n              cursor: \"pointer\",\n              marginTop: 32,\n            }}\n            onClick={() => {\n              setPage(page + 1);\n              getNext(page + 1, time_range, tracks);\n            }}\n          >\n            <div style={{ marginBottom: 16 }}>\n              {loading ? \"Loading...\" : \"Get more\"}\n            </div>\n            {loading ? null : (\n              <ChevronDown height=\"32px\" width=\"32px\" color=\"white\" />\n            )}\n          </div>\n        )}\n      </div>\n      {!modal ? null : (\n        <CreatePlaylist\n          api={api}\n          tracks={tracks}\n          initName={`My top songs from the last ${\n            time_range === \"long_term\"\n              ? \"year\"\n              : time_range === \"medium_term\"\n              ? \"6 months\"\n              : \"month\"\n          }`}\n          onClose={() => setModal(false)}\n        />\n      )}\n    </>\n  );\n}\n\n// todo get recommendations\n// todo make playlist from top tracks\n","import SpotifyWebApi from \"spotify-web-api-node\";\nimport { CloseSharp } from \"react-ionicons\";\nimport { useState } from \"react\";\n\nexport function CreatePlaylist({\n  api,\n  tracks,\n  initName,\n  onClose,\n}: {\n  initName: string;\n  api: SpotifyWebApi;\n  tracks: SpotifyApi.TrackObjectFull[];\n  onClose: () => void;\n}) {\n  const [loading, setLoading] = useState(false);\n  const [name, setName] = useState(initName);\n  const [shown, setShown] = useState(false);\n\n  const create = async () => {\n    setLoading(true);\n    try {\n      const res = await api.createPlaylist(name, {\n        description: \"Playlist created by Asen's app\",\n      });\n      await api.addTracksToPlaylist(\n        res.body.id,\n        tracks.map(x => x.uri),\n      );\n      onClose();\n    } catch (error) {\n      global.window.alert(error);\n    }\n    setLoading(false);\n  };\n\n  const _renderBody = () => {\n    return (\n      <>\n        <div style={{ display: \"flex\" }}>\n          <div style={{ flex: 1 }} />\n          <CloseSharp\n            color=\"white\"\n            width=\"48px\"\n            height=\"48px\"\n            onClick={onClose}\n          />\n        </div>\n        <div\n          style={{\n            flex: 1,\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            flexDirection: \"column\",\n            paddingBottom: 64,\n          }}\n        >\n          <h1>Name your playlist</h1>\n          <input\n            type=\"text\"\n            placeholder=\"Type name...\"\n            value={name}\n            onChange={({ target: { value } }) => setName(value)}\n            style={{\n              width: \"100%\",\n              fontSize: 20,\n              border: \"none\",\n              color: \"white\",\n              outline: \"none\",\n              background: \"none\",\n              fontWeight: \"bold\",\n              padding: \"8px 16px\",\n              borderBottom: \"4px solid white\",\n            }}\n          />\n          <div\n            style={{\n              cursor: \"pointer\",\n              marginTop: 32,\n              width: \"100%\",\n              textAlign: \"center\",\n              padding: 16,\n              borderRadius: \"100vw\",\n              backgroundColor: \"var(--color-2)\",\n            }}\n          >\n            <span style={{ fontSize: 20, fontWeight: \"bold\" }} onClick={create}>\n              Create Playlist\n            </span>\n          </div>\n          <h2>Tracks in playlist</h2>\n          <div>\n            <div style={{ fontSize: 18, fontWeight: \"bold\" }}>\n              {tracks.length} tracks\n            </div>\n            <div\n              style={{ cursor: \"pointer\", textAlign: \"center\" }}\n              onClick={() => setShown(!shown)}\n            >\n              {shown ? \"Hide\" : \"Show all\"}\n            </div>\n          </div>\n          {shown ? (\n            <div style={{ maxHeight: 200, marginTop: 16, width: \"100%\" }}>\n              {tracks.map((x, i) => (\n                <div key={i}>\n                  <h3>{x.name}</h3>\n                  <div>{x.artists.map(x => x.name).join(\", \")}</div>\n                  {i !== tracks.length - 1 ? (\n                    <hr style={{ marginTop: 16 }} />\n                  ) : (\n                    <div style={{ marginBottom: 64 }} />\n                  )}\n                </div>\n              ))}\n            </div>\n          ) : null}\n        </div>\n      </>\n    );\n  };\n  return (\n    <div\n      style={{\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        zIndex: 100,\n        width: \"calc(100vw - 32px)\",\n        height: \"calc(100vh - 32px)\",\n        backgroundColor: \"rgba(0,0,0,0.8)\",\n        padding: 16,\n        overflowY: \"auto\",\n      }}\n    >\n      <div\n        style={{\n          maxWidth: 960,\n          margin: \"0 auto\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          height: \"100%\",\n        }}\n      >\n        {loading ? <h1>Loading...</h1> : _renderBody()}\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}