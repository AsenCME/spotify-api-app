(this.webpackJsonpspotify=this.webpackJsonpspotify||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=e.text,n=e.onClick,i=e.renderIcon;return Object(r.jsxs)("div",{style:{display:"flex",alignItems:"baseline",marginBottom:16},children:[Object(r.jsx)("div",{style:{flex:1}}),Object(r.jsxs)("div",{style:{display:"flex",cursor:"pointer",alignItems:"center",padding:"8px 16px",borderRadius:"100vw",backgroundColor:"var(--color-8)",color:"var(--color-1)"},onClick:n,children:[Object(r.jsx)("span",{style:{fontWeight:"bold",marginBottom:2,marginRight:8},children:t}),!!i&&i()]})]})}},13:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(4);var r=n(14),i=n(3);function a(e){var t=e.track,n=e.no,a=e.renderButton,c=void 0===a?function(){return Object(i.jsx)("div",{})}:a;return Object(i.jsxs)("div",{style:{backgroundColor:"var(--color-2)",padding:16,borderRadius:8,display:"flex",alignItems:"center",marginBottom:16,position:"relative",overflow:"hidden"},children:[Object(i.jsx)("div",{style:{height:4,position:"absolute",bottom:0,left:0,right:0,width:t.popularity+"%",backgroundColor:"var(--color-6)"}}),Object(i.jsxs)("div",{style:{width:50,fontSize:20,display:"flex",marginRight:16,fontWeight:"bold",justifyContent:"center"},children:[n,"."]}),Object(i.jsxs)("div",{style:{flex:1,display:"flex",alignItems:"center"},children:[Object(i.jsx)("a",{href:t.album.external_urls.spotify,children:Object(i.jsx)("img",{width:"100px",height:"100px",src:t.album.images[0].url,style:{marginRight:16}})}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{style:{display:"flex",alignItems:"baseline",flexWrap:"wrap",marginBottom:4},children:[Object(i.jsx)("h2",{style:{margin:0,padding:0,marginRight:8},children:t.name}),Object(i.jsx)("div",{children:t.artists.map((function(e,r){return Object(i.jsxs)("span",{children:[Object(i.jsx)("a",{href:e.external_urls.spotify,children:e.name}),Object(i.jsx)("span",{style:{marginRight:4},children:r!==t.artists.length-1?",":""})]},"artist_".concat(r,"_track_").concat(n))}))})]}),Object(i.jsxs)("a",{href:t.album.external_urls.spotify,style:{fontWeight:"bold"},children:[t.album.name," (",Object(r.a)(t.album.release_date),")"]}),Object(i.jsx)("div",{style:{marginTop:4},children:Object(r.b)(t.duration_ms)})]})]}),c()]})}},14:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){var t=Math.floor(e/1e3/60%60).toString().padStart(2,"0"),n=Math.floor(e/1e3%60).toString().padStart(2,"0");return"".concat(t,":").concat(n)},i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=function(e){var t=e.split("-"),n=t[0],r=i[Number(t[1])-1];return"".concat(r," ").concat(n)}},1419:function(e,t,n){"use strict";n.r(t);var r=n(4),i=n.n(r),a=n(42),c=n.n(a),s=(n(57),n(58),n(7)),o=n.n(s),l=n(10),d=n(5),u=n(43),j=n.n(u),b=n(44),h=n(3);function g(e){var t=e.me,n=e.page,r=e.changePage,i=function(e,t){return Object(h.jsx)("div",{style:{marginRight:16,cursor:"pointer"},onClick:function(){return r(t)},children:Object(h.jsx)("span",{style:{fontWeight:n===t?"bold":"normal",fontSize:20},children:e})})};return Object(h.jsxs)("div",{style:{width:"100%",display:"flex",marginBottom:16,paddingTop:16,paddingBottom:16},children:[i("Top tracks","top_tracks"),i("Custom playlist","custom_playlist"),Object(h.jsx)("div",{style:{flex:1}}),Object(h.jsxs)("div",{style:{padding:"8px 16px",display:"flex",alignItems:"center",borderRadius:"100vw",justifyContent:"center",backgroundColor:"var(--color-2)"},children:[Object(h.jsx)("img",{width:"32px",height:"32px",src:t.image,style:{borderRadius:16}}),Object(h.jsxs)("div",{style:{marginLeft:16,fontSize:14},children:[Object(h.jsx)("div",{style:{fontWeight:"bold"},children:t.name}),Object(h.jsxs)("div",{children:[t.followers," followers"]})]})]})]})}var p=n(50),x=n(52),f=n.n(x),m="https://9f182691b80d.ngrok.io";var y=new j.a({clientId:"8b945ef10ea24755b83ac50cede405a0",clientSecret:"524fc97a2763460598a3420b7253ee81",redirectUri:"https://spotify-coolness.surge.sh/"});function O(e){var t=function(e){var t=Object(r.useState)(""),n=Object(d.a)(t,2),i=n[0],a=n[1],c=Object(r.useState)(""),s=Object(d.a)(c,2),o=s[0],l=s[1],u=Object(r.useState)(60),j=Object(d.a)(u,2),b=j[0],h=j[1];return Object(r.useEffect)((function(){f.a.post(m+"/login",{code:e}).then((function(e){a(e.data.accessToken),l(e.data.refreshToken),h(e.data.expiresIn),window.history.pushState({},null,"/")})).catch((function(){window.location="/"}))}),[e]),Object(r.useEffect)((function(){if(o&&b){var e=setInterval((function(){fetch(m+"/refresh",{method:"POST",body:JSON.stringify({refreshToken:o}),headers:{ContentType:"application/json"}}).then((function(e){a(e.data.accessToken),h(e.data.expiresIn)})).catch((function(){}))}),1e3*(b-60));return function(){return clearInterval(e)}}}),[o,b]),{accessToken:i,refreshToken:o}}(e.code),n=t.accessToken,i=t.refreshToken,a=Object(r.useState)(null),c=Object(d.a)(a,2),s=c[0],u=c[1],j=Object(r.useState)("top_tracks"),x=Object(d.a)(j,2),O=x[0],v=x[1];return Object(r.useEffect)((function(){n&&(y.setAccessToken(n),y.setRefreshToken(i),Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.getMe();case 2:r=e.sent,u({id:r.body.id,name:r.body.display_name||"no name",image:(null===(t=r.body.images)||void 0===t?void 0:t.length)?r.body.images[0].url:"",followers:(null===(n=r.body.followers)||void 0===n?void 0:n.total)||0});case 4:case"end":return e.stop()}}),e)})))())}),[n]),y.getAccessToken()?Object(h.jsxs)("div",{style:{maxWidth:960,margin:"0 auto"},children:[s?Object(h.jsx)(g,{me:s,page:O,changePage:function(e){return v(e)}}):null,"top_tracks"===O?Object(h.jsx)(p.a,{api:y}):"custom_playlist"===O?Object(h.jsx)(b.a,{api:y}):null]}):null}var v=n.p+"static/media/logo.7000afed.png",k=["streaming","user-top-read","user-read-email","user-read-private","user-library-read","user-library-modify","user-read-playback-state","user-modify-playback-state","user-read-recently-played","playlist-modify-public","playlist-modify-private","playlist-read-private","user-library-modify"].join("%20"),w="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("6c68970138484af086dba84c7c147503","&response_type=code&redirect_uri=").concat("https://spotify-coolness.surge.sh/","&scope=").concat(k);function C(){return Object(h.jsx)("div",{style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(h.jsxs)("div",{style:{padding:16,borderRadius:4,cursor:"pointer",backgroundColor:"var(--color-2)",display:"flex",alignItems:"center"},onClick:function(){window.location.assign(w)},children:[Object(h.jsx)("span",{style:{marginRight:16,fontWeight:"bold"},children:"Login with Spotify"}),Object(h.jsx)("img",{src:v,width:"36px",height:"36px"})]})})}var S=function(){var e=new URLSearchParams(window.location.search).get("code");return e?Object(h.jsx)(O,{code:e}):Object(h.jsx)(C,{})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1420)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),r(e),i(e),a(e),c(e)}))};c.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root")),_(console.log)},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(4);var r=n(8),i=n(3),a=function(e){var t=e.onClose,n=e.children;return Object(i.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:100,width:"calc(100vw - 32px)",height:"calc(100vh - 32px)",backgroundColor:"rgba(0,0,0,0.8)",padding:16,overflowY:"auto"},children:Object(i.jsxs)("div",{style:{maxWidth:960,margin:"0 auto",display:"flex",flexDirection:"column",height:"100%"},children:[Object(i.jsxs)("div",{style:{display:"flex"},children:[Object(i.jsx)("div",{style:{flex:1}}),Object(i.jsx)(r.CloseSharp,{color:"white",width:"48px",height:"48px",style:{cursor:"pointer"},onClick:t})]}),Object(i.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",paddingBottom:64},children:n})]})})}},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3);function i(e){var t=e.text,n=e.selected,i=e.onClick;return Object(r.jsx)("div",{style:{marginRight:16,cursor:"pointer"},onClick:i,children:Object(r.jsx)("span",{style:{fontWeight:n?"bold":"normal",fontSize:20},children:t})})}},44:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(15),i=n(6),a=n(7),c=n.n(a),s=n(10),o=n(5),l=n(4),d=n(11),u=n(8),j=n(13),b=n(25),h=n(26),g=n(48),p=n(49),x=n(3);function f(t){var n=t.api,a=Object(l.useState)(!1),f=Object(o.a)(a,2),m=(f[0],f[1]),y=Object(l.useState)(!1),O=Object(o.a)(y,2),v=(O[0],O[1]),k=Object(l.useState)(!1),w=Object(o.a)(k,2),C=w[0],S=w[1],_=Object(l.useState)(!1),T=Object(o.a)(_,2),B=T[0],R=T[1],I=Object(l.useState)([]),W=Object(o.a)(I,2),z=W[0],N=W[1],P=Object(l.useState)(""),A=Object(o.a)(P,2),L=A[0],M=A[1],D=Object(l.useState)([]),F=Object(o.a)(D,2),E=F[0],J=F[1],Y=Object(l.useState)([]),G=Object(o.a)(Y,2),H=G[0],U=G[1],V=Object(l.useState)(!1),q=Object(o.a)(V,2),K=q[0],Q=q[1],X=Object(l.useState)({target_acousticness:.1,target_danceability:.1,target_energy:.3,target_instrumentalness:.75,target_liveness:.55,target_speechiness:.1,target_valence:.2,target_tempo:140,limit:100}),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=function(){var t=Object(s.a)(c.a.mark((function t(){var r,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.prev=1,console.log("search fn"),t.next=5,n.searchTracks(L,{limit:10});case 5:i=t.sent,J((null===(r=i.body.tracks)||void 0===r?void 0:r.items)||[]),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.window.alert(t.t0);case 12:v(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),ne=function(){var t=Object(s.a)(c.a.mark((function t(){var r,a,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,r=H.flatMap((function(e){return e.artists.map((function(e){return e.id}))})),t.next=5,n.getArtists(r);case 5:return a=t.sent,s=a.body.artists.flatMap((function(e){return e.genres.map((function(e){return e.toLowerCase().replaceAll(" ","-")}))})).filter((function(e){return p.a.includes(e)})),t.next=9,n.getRecommendations(Object(i.a)({seed_genres:s,seed_artists:r,seed_tracks:H.map((function(e){return e.id}))},$));case 9:o=t.sent,N(o.body.tracks),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),e.window.alert(t.t0);case 16:m(!1);case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}(),re=function(){var t=Object(s.a)(c.a.mark((function t(){var r,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.window.prompt("Playlist name")){t.next=3;break}return t.abrupt("return");case 3:return m(!0),t.prev=4,t.next=7,n.createPlaylist(r,{description:"Playlist created by Asen's app"});case 7:return i=t.sent,t.next=10,n.addTracksToPlaylist(i.body.id,z.map((function(e){return e.uri})));case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),e.window.alert(t.t0);case 15:m(!1);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Custom Playlist"}),Object(x.jsxs)("div",{style:{display:"flex",marginBottom:16,flexWrap:"wrap"},children:[Object(x.jsx)("div",{style:{flex:1}}),Object(x.jsx)(d.a,{text:"Seed",renderIcon:function(){return Object(x.jsx)(u.SettingsOutline,{width:"24px",height:"24px",color:"black"})},onClick:function(){return R(!0)}}),Object(x.jsx)("div",{style:{marginRight:16}}),Object(x.jsx)(d.a,{text:"Settings",renderIcon:function(){return Object(x.jsx)(u.Options,{width:"24px",height:"24px",color:"black"})},onClick:function(){return S(!0)}}),Object(x.jsx)("div",{style:{marginRight:16}}),Object(x.jsx)(d.a,{text:"Get Tracks",renderIcon:function(){return Object(x.jsx)(u.MusicalNotesOutline,{width:"24px",height:"24px",color:"black"})},onClick:function(){return ne()}}),Object(x.jsx)("div",{style:{marginRight:16}}),Object(x.jsx)(d.a,{text:"Make into playlist",onClick:re})]}),Object(x.jsx)("div",{children:z.length?Object(x.jsx)("div",{children:z.map((function(e,t){return Object(x.jsx)(g.a,{track:e,no:t+1},t)}))}):"Tracks will appear here"}),B?Object(x.jsx)(b.a,{onClose:function(){return R(!1)},children:Object(x.jsxs)("div",{style:{padding:16,width:"100%",height:"100%",borderRadius:16,overflowY:"auto",backgroundColor:"var(--color-2)"},children:[Object(x.jsx)("h1",{style:{margin:0,marginBottom:16},children:"Playlist seed"}),Object(x.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(x.jsx)(h.a,{text:"Seed tracks",selected:!K,onClick:function(){return Q(!1)}}),Object(x.jsx)("div",{style:{marginRight:16}}),Object(x.jsx)(h.a,{text:"Search tracks",selected:K,onClick:function(){return Q(!0)}})]}),K?Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(x.jsx)("form",{onSubmit:function(e){e.preventDefault(),te()},style:{flex:1,marginRight:32},children:Object(x.jsx)("input",{type:"text",placeholder:"Search songs...",value:L,onChange:function(e){var t=e.target.value;return M(t)},style:{padding:8,width:"100%",fontSize:20,border:"none",color:"white",outline:"none",background:"none",fontWeight:"bold",borderBottom:"4px solid white"}})}),Object(x.jsx)(d.a,{text:"Go",onClick:te,renderIcon:function(){return Object(x.jsx)(u.Search,{width:"24px",height:"24px",color:"black"})}})]}),Object(x.jsx)("div",{children:E.map((function(e,t){return Object(x.jsx)(j.a,{track:e,no:t+1,renderButton:function(){return H.some((function(t){return t.id===e.id}))?Object(x.jsx)(u.Remove,{width:"32px",height:"32px",color:"white",style:{cursor:"pointer"},onClick:function(){return U(H.filter((function(t){return t.id!==e.id})))}}):Object(x.jsx)(u.Add,{width:"32px",height:"32px",color:"white",style:{cursor:"pointer"},onClick:function(){return U([].concat(Object(r.a)(H),[e]))}})}},t)}))})]}):H.length?Object(x.jsx)("div",{children:H.map((function(e,t){return Object(x.jsx)(j.a,{track:e,no:t+1,renderButton:function(){return Object(x.jsx)(u.Remove,{width:"24px",height:"24px",color:"white",style:{cursor:"pointer"},onClick:function(){return U(H.filter((function(t){return t.id!==e.id})))}})}},t)}))}):Object(x.jsx)("div",{children:"No seed tracks selected yet, add some by searching for them"})]})}):null,C?Object(x.jsx)(b.a,{onClose:function(){return S(!1)},children:Object(x.jsxs)("div",{style:{padding:16,width:"100%",height:"100%",borderRadius:16,overflowY:"auto",backgroundColor:"var(--color-2)"},children:[Object(x.jsx)("h1",{style:{margin:0,marginBottom:32},children:"Playlist settings"}),Object(x.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(x.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(x.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Number of songs"}),Object(x.jsx)("div",{style:{flex:1}}),Object(x.jsx)("div",{style:{marginRight:16},children:$.limit}),Object(x.jsx)("input",{type:"number",onChange:function(e){var t=e.target.value;return ee(Object(i.a)(Object(i.a)({},$),{},{limit:Number(t)}))},min:"1",max:"100",style:{width:200},value:$.limit})]}),Object(x.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(x.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Tempo"}),Object(x.jsx)("div",{style:{flex:1}}),Object(x.jsx)("div",{style:{marginRight:16},children:$.target_tempo}),Object(x.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return ee(Object(i.a)(Object(i.a)({},$),{},{target_tempo:Number(t)}))},min:"80",max:"240",step:"1",style:{width:200},value:$.target_tempo})]}),Object(x.jsx)("hr",{style:{marginBottom:16}}),Object(x.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(x.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Acousticness"}),Object(x.jsx)("div",{style:{flex:1}}),Object(x.jsx)("div",{style:{marginRight:16},children:$.target_acousticness}),Object(x.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return ee(Object(i.a)(Object(i.a)({},$),{},{target_acousticness:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:$.target_acousticness})]}),Object(x.jsx)("hr",{style:{marginBottom:16}}),Object(x.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(x.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Danceability"}),Object(x.jsx)("div",{style:{flex:1}}),Object(x.jsx)("div",{style:{marginRight:16},children:$.target_danceability}),Object(x.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return ee(Object(i.a)(Object(i.a)({},$),{},{target_danceability:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:$.target_danceability})]}),Object(x.jsx)("hr",{style:{marginBottom:16}}),Object(x.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(x.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Energy"}),Object(x.jsx)("div",{style:{flex:1}}),Object(x.jsx)("div",{style:{marginRight:16},children:$.target_energy}),Object(x.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return ee(Object(i.a)(Object(i.a)({},$),{},{target_energy:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:$.target_energy})]}),Object(x.jsx)("hr",{style:{marginBottom:16}}),Object(x.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(x.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Instrumentalness"}),Object(x.jsx)("div",{style:{flex:1}}),Object(x.jsx)("div",{style:{marginRight:16},children:$.target_instrumentalness}),Object(x.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return ee(Object(i.a)(Object(i.a)({},$),{},{target_instrumentalness:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:$.target_instrumentalness})]}),Object(x.jsx)("hr",{style:{marginBottom:16}}),Object(x.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(x.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Liveness"}),Object(x.jsx)("div",{style:{flex:1}}),Object(x.jsx)("div",{style:{marginRight:16},children:$.target_liveness}),Object(x.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return ee(Object(i.a)(Object(i.a)({},$),{},{target_liveness:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:$.target_liveness})]}),Object(x.jsx)("hr",{style:{marginBottom:16}}),Object(x.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(x.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Speechiness"}),Object(x.jsx)("div",{style:{flex:1}}),Object(x.jsx)("div",{style:{marginRight:16},children:$.target_speechiness}),Object(x.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return ee(Object(i.a)(Object(i.a)({},$),{},{target_speechiness:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:$.target_speechiness})]}),Object(x.jsx)("hr",{style:{marginBottom:16}}),Object(x.jsxs)("div",{style:{display:"flex",marginBottom:16},children:[Object(x.jsx)("div",{style:{fontSize:18,fontWeight:"bold"},children:"Target Valence"}),Object(x.jsx)("div",{style:{flex:1}}),Object(x.jsx)("div",{style:{marginRight:16},children:$.target_valence}),Object(x.jsx)("input",{type:"range",onChange:function(e){var t=e.target.value;return ee(Object(i.a)(Object(i.a)({},$),{},{target_valence:Number(t)}))},min:"0",max:"1",step:"0.05",style:{width:200},value:$.target_valence})]})]})]})}):null]})}}).call(this,n(17))},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(4);var r=n(14),i=n(3);function a(e){var t=e.track,n=e.no,a=e.renderButton,c=void 0===a?function(){return Object(i.jsx)("div",{})}:a;return Object(i.jsxs)("div",{style:{backgroundColor:"var(--color-2)",padding:16,borderRadius:8,display:"flex",alignItems:"center",marginBottom:16,position:"relative",overflow:"hidden"},children:[Object(i.jsxs)("div",{style:{width:50,fontSize:20,display:"flex",marginRight:16,fontWeight:"bold",justifyContent:"center"},children:[n,"."]}),Object(i.jsx)("div",{style:{flex:1,display:"flex",alignItems:"center"},children:Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{style:{display:"flex",alignItems:"baseline",flexWrap:"wrap",marginBottom:4},children:[Object(i.jsx)("h2",{style:{margin:0,padding:0,marginRight:8},children:t.name}),Object(i.jsx)("div",{children:t.artists.map((function(e,r){return Object(i.jsxs)("span",{children:[Object(i.jsx)("a",{href:e.external_urls.spotify,children:e.name}),Object(i.jsx)("span",{style:{marginRight:4},children:r!==t.artists.length-1?",":""})]},"artist_".concat(r,"_track_").concat(n))}))})]}),Object(i.jsx)("div",{style:{marginTop:4},children:Object(r.b)(t.duration_ms)})]})}),c()]})}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["acoustic","afrobeat","alt-rock","alternative","ambient","anime","black-metal","bluegrass","blues","bossanova","brazil","breakbeat","british","cantopop","chicago-house","children","chill","classical","club","comedy","country","dance","dancehall","death-metal","deep-house","detroit-techno","disco","disney","drum-and-bass","dub","dubstep","edm","electro","electronic","emo","folk","forro","french","funk","garage","german","gospel","goth","grindcore","groove","grunge","guitar","happy","hard-rock","hardcore","hardstyle","heavy-metal","hip-hop","holidays","honky-tonk","house","idm","indian","indie","indie-pop","industrial","iranian","j-dance","j-idol","j-pop","j-rock","jazz","k-pop","kids","latin","latino","malay","mandopop","metal","metal-misc","metalcore","minimal-techno","movies","mpb","new-age","new-release","opera","pagode","party","philippines-opm","piano","pop","pop-film","post-dubstep","power-pop","progressive-house","psych-rock","punk","punk-rock","r-n-b","rainy-day","reggae","reggaeton","road-trip","rock","rock-n-roll","rockabilly","romance","sad","salsa","samba","sertanejo","show-tunes","singer-songwriter","ska","sleep","songwriter","soul","soundtracks","spanish","study","summer","swedish","synth-pop","tango","techno","trance","trip-hop","turkish","work-out","world-music"]},50:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(7),i=n.n(r),a=n(15),c=n(10),s=n(5),o=n(4),l=n(13),d=n(8),u=n(51),j=n(3);function b(t){var n=t.api,r=Object(o.useState)(0),b=Object(s.a)(r,2),h=b[0],g=b[1],p=Object(o.useState)(!1),x=Object(s.a)(p,2),f=x[0],m=x[1],y=Object(o.useState)([]),O=Object(s.a)(y,2),v=O[0],k=O[1],w=Object(o.useState)("long_term"),C=Object(s.a)(w,2),S=C[0],_=C[1],T=Object(o.useState)(!1),B=Object(s.a)(T,2),R=B[0],I=B[1],W=Object(o.useState)(!1),z=Object(s.a)(W,2),N=z[0],P=z[1],A=function(){var t=Object(c.a)(i.a.mark((function t(r,c,s){var o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,t.next=4,n.getMyTopTracks({time_range:c,limit:50,offset:50*r});case 4:(o=t.sent).body.items.length?k([].concat(Object(a.a)(s),Object(a.a)(o.body.items))):I(!0),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),e.window.alert(t.t0);case 12:m(!1);case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n,r){return t.apply(this,arguments)}}();Object(o.useEffect)((function(){A(0,S,[])}),[]);var L=function(e,t){return Object(j.jsx)("div",{onClick:function(){return _(e=t),g(0),k([]),void A(0,e,[]);var e},style:{cursor:"pointer",marginLeft:16},children:Object(j.jsx)("span",{style:{fontWeight:S===t?"bold":"normal"},children:e})})};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{style:{padding:16},children:[Object(j.jsxs)("div",{style:{display:"flex",alignItems:"baseline",marginBottom:16},children:[Object(j.jsx)("h1",{style:{margin:0},children:"Top Tracks"}),Object(j.jsx)("div",{style:{flex:1}}),Object(j.jsxs)("div",{style:{display:"flex"},children:[L("1+ Year","long_term"),L("Last 6 months","medium_term"),L("Last 4 weeks","short_term")]})]}),Object(j.jsxs)("div",{style:{display:"flex",alignItems:"baseline",marginBottom:16},children:[Object(j.jsx)("div",{style:{flex:1}}),Object(j.jsxs)("div",{style:{display:"flex",cursor:"pointer",alignItems:"center",padding:"8px 16px",borderRadius:"100vw",backgroundColor:"var(--color-8)",color:"var(--color-1)"},onClick:function(){return P(!0)},children:[Object(j.jsx)("span",{style:{fontWeight:"bold",marginBottom:2,marginRight:8},children:"Create Playlist"}),Object(j.jsx)(d.Add,{style:{color:"var(--color-1)",width:24,height:24}})]})]}),v.map((function(e,t){return Object(j.jsx)(l.a,{track:e,no:t+1},t)})),R?null:Object(j.jsxs)("div",{style:{textAlign:"center",cursor:"pointer",marginTop:32},onClick:function(){g(h+1),A(h+1,S,v)},children:[Object(j.jsx)("div",{style:{marginBottom:16},children:f?"Loading...":"Get more"}),f?null:Object(j.jsx)(d.ChevronDown,{height:"32px",width:"32px",color:"white"})]})]}),N?Object(j.jsx)(u.a,{api:n,tracks:v,initName:"My top songs from the last ".concat("long_term"===S?"year":"medium_term"===S?"6 months":"month"),onClose:function(){return P(!1)}}):null]})}}).call(this,n(17))},51:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(7),i=n.n(r),a=n(10),c=n(5),s=n(8),o=n(4),l=n(3);function d(t){var n=t.api,r=t.tracks,d=t.initName,u=t.onClose,j=Object(o.useState)(!1),b=Object(c.a)(j,2),h=b[0],g=b[1],p=Object(o.useState)(d),x=Object(c.a)(p,2),f=x[0],m=x[1],y=Object(o.useState)(!1),O=Object(c.a)(y,2),v=O[0],k=O[1],w=function(){var t=Object(a.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),t.prev=1,t.next=4,n.createPlaylist(f,{description:"Playlist created by Asen's app"});case 4:return a=t.sent,t.next=7,n.addTracksToPlaylist(a.body.id,r.map((function(e){return e.uri})));case 7:u(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.window.alert(t.t0);case 13:g(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return Object(l.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:100,width:"calc(100vw - 32px)",height:"calc(100vh - 32px)",backgroundColor:"rgba(0,0,0,0.8)",padding:16,overflowY:"auto"},children:Object(l.jsx)("div",{style:{maxWidth:960,margin:"0 auto",display:"flex",flexDirection:"column",height:"100%"},children:h?Object(l.jsx)("h1",{children:"Loading..."}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{style:{display:"flex"},children:[Object(l.jsx)("div",{style:{flex:1}}),Object(l.jsx)(s.CloseSharp,{color:"white",width:"48px",height:"48px",onClick:u})]}),Object(l.jsxs)("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",paddingBottom:64},children:[Object(l.jsx)("h1",{children:"Name your playlist"}),Object(l.jsx)("input",{type:"text",placeholder:"Type name...",value:f,onChange:function(e){var t=e.target.value;return m(t)},style:{width:"100%",fontSize:20,border:"none",color:"white",outline:"none",background:"none",fontWeight:"bold",padding:"8px 16px",borderBottom:"4px solid white"}}),Object(l.jsx)("div",{style:{cursor:"pointer",marginTop:32,width:"100%",textAlign:"center",padding:16,borderRadius:"100vw",backgroundColor:"var(--color-2)"},children:Object(l.jsx)("span",{style:{fontSize:20,fontWeight:"bold"},onClick:w,children:"Create Playlist"})}),Object(l.jsx)("h2",{children:"Tracks in playlist"}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{style:{fontSize:18,fontWeight:"bold"},children:[r.length," tracks"]}),Object(l.jsx)("div",{style:{cursor:"pointer",textAlign:"center"},onClick:function(){return k(!v)},children:v?"Hide":"Show all"})]}),v?Object(l.jsx)("div",{style:{maxHeight:200,marginTop:16,width:"100%"},children:r.map((function(e,t){return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:e.name}),Object(l.jsx)("div",{children:e.artists.map((function(e){return e.name})).join(", ")}),t!==r.length-1?Object(l.jsx)("hr",{style:{marginTop:16}}):Object(l.jsx)("div",{style:{marginBottom:64}})]},t)}))}):null]})]})})})}}).call(this,n(17))},57:function(e,t,n){},58:function(e,t,n){},77:function(e,t){}},[[1419,1,2]]]);
//# sourceMappingURL=main.d9486bfc.chunk.js.map